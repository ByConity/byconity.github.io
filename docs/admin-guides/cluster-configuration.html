<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-admin-guides/cluster-configuration">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Cluster Configuration | ByConity</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://byconity.github.io/img/byconity-social-card.png"><meta data-rh="true" name="twitter:image" content="https://byconity.github.io/img/byconity-social-card.png"><meta data-rh="true" property="og:url" content="https://byconity.github.io/docs/admin-guides/cluster-configuration"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Cluster Configuration | ByConity"><meta data-rh="true" name="description" content="Document Type: Descriptive"><meta data-rh="true" property="og:description" content="Document Type: Descriptive"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://byconity.github.io/docs/admin-guides/cluster-configuration"><link data-rh="true" rel="alternate" href="https://byconity.github.io/docs/admin-guides/cluster-configuration" hreflang="en"><link data-rh="true" rel="alternate" href="https://byconity.github.io/zh-cn/docs/admin-guides/cluster-configuration" hreflang="zh-cn"><link data-rh="true" rel="alternate" href="https://byconity.github.io/docs/admin-guides/cluster-configuration" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://Y8UJSN6KEB-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ByConity RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ByConity Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BYY7CCPJZ6"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-BYY7CCPJZ6",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="ByConity" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.25c3bd5d.css">
<link rel="preload" href="/assets/js/runtime~main.c5845235.js" as="script">
<link rel="preload" href="/assets/js/main.4f1ffde1.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_Rzz1" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_hfek"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="ByConity Logo" class="themedImage_DeRy themedImage--light_hbln"><img src="/img/logo.png" alt="ByConity Logo" class="themedImage_DeRy themedImage--dark_qgR1"></div><b class="navbar__title text--truncate">ByConity</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/introduction/what-is-byconity">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/community/become-maintainer">Community</a><a class="navbar__item navbar__link" href="/users">Users</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/introduction/what-is-byconity">0.3.x</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/admin-guides/cluster-configuration">0.3.x</a></li><li><a class="dropdown__link" href="/docs/0.2.0/introduction/main-principle-concepts">0.2.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">English</a><ul class="dropdown__menu"><li><a href="/docs/admin-guides/cluster-configuration" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/zh-cn/docs/admin-guides/cluster-configuration" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-cn">中文（中国）</a></li></ul></div><a href="https://github.com/ByConity/ByConity" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"><span>GitHub</span></a><div class="searchBox_mmj0"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_NWrx docsWrapper_oNqO"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_LsNq" type="button"></button><div class="docPage_fHU4"><aside class="theme-doc-sidebar-container docSidebarContainer_jEGB"><div class="sidebarViewport_Gc0S"><div class="sidebar_uCr1 sidebarWithHideableNavbar_P_fD"><a tabindex="-1" class="sidebarLogo_XXeG" href="/"><img src="/img/logo.png" alt="ByConity Logo" class="themedImage_DeRy themedImage--light_hbln"><img src="/img/logo.png" alt="ByConity Logo" class="themedImage_DeRy themedImage--dark_qgR1"><b>ByConity</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_s63m"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/introduction/what-is-byconity">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/quick-start/docker-deploy">Quick Start</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/deployment/deployment-requirements">Deployment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/data-export/data-export-method">Data Export</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/data-import/data-introduction">Data Import</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/table-design/data-model">Table Design</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/data-lakes/hive-external-table">Data Lake</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/query-optimization/query-optimizer">Query Optimization</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/integration/client-connection">Integration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/sql-syntax/data-types">SQL Syntax</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/admin-guides/resource-manager">Admin Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/admin-guides/resource-manager">Resource Manager</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/admin-guides/virtual-warehouse-configuration">Virtual Warehouse Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/admin-guides/scale-up-down">Scaling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/admin-guides/high-availability">High Availability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/admin-guides/monitoring">Monitor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/admin-guides/cluster-configuration">Cluster Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/admin-guides/privilege-management">Privilege Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/admin-guides/background-task-management">Manage Background Tasks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/admin-guides/transaction-management">Transactions Management</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/benchmarks/tpc-ds">Benchmarks</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/developer-guides/how-to-build-byconity">Developer Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/faq/all-in-one">FAQ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/release-note/0.3.0">Release Note</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_b8RI"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_QMJw"><div class="docItemContainer_EkDS"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_dvLu" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_ObZR"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Admin Guides</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Cluster Configuration</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 0.3.x</span><div class="tocCollapsible_Iw4v theme-doc-toc-mobile tocMobile_L4iJ"><button type="button" class="clean-btn tocCollapsibleButton_Omde">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Cluster Configuration</h1><p>Document Type: Descriptive</p><p>Summary:</p><ol><li>In the process of installation and deployment, what basic parameters need to be understood</li><li>What are the advanced parameters of each component and what are their functions?</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="server-configuration-parameters">Server Configuration Parameters<a href="#server-configuration-parameters" class="hash-link" aria-label="Direct link to Server Configuration Parameters" title="Direct link to Server Configuration Parameters">​</a></h2><p>ByConity (formerly codenamed CNCH) server-side configuration is stored in cnch-server.xml, specified by <code>--config-file</code> when the process starts, and the server will automatically load the configuration from cnch-server.xml.</p><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="cnch_type">cnch_type<a href="#cnch_type" class="hash-link" aria-label="Direct link to cnch_type" title="Direct link to cnch_type">​</a></h3><p>Configure the ByConity process type, which can be configured as server or worker. Among them, the server is mainly responsible for receiving query requests and dispatching queries to workers; the worker nodes are mainly responsible for executing query tasks from the server. Examples are as follows:</p><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;cnch_type&gt;server&lt;/cnch_type&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="tcp_port">tcp_port<a href="#tcp_port" class="hash-link" aria-label="Direct link to tcp_port" title="Direct link to tcp_port">​</a></h3><p>The TCP port used by server and client to connect</p><p>Example：</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;tcp_port&gt;9000&lt;/tcp_port&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="http_port">http_port<a href="#http_port" class="hash-link" aria-label="Direct link to http_port" title="Direct link to http_port">​</a></h3><p>The HTTP port used by server and client to connect</p><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;https_port&gt;9999&lt;/https_port&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="rpc_port">rpc_port<a href="#rpc_port" class="hash-link" aria-label="Direct link to rpc_port" title="Direct link to rpc_port">​</a></h3><p>The RPC port for server to interact with other components</p><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;rpc_port&gt;8124&lt;/rpc_port&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="exchange_port">exchange_port<a href="#exchange_port" class="hash-link" aria-label="Direct link to exchange_port" title="Direct link to exchange_port">​</a></h3><p>Data transfer port for complex queries (to be considered for merging with rpc_port in the future)</p><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="exchange_status_port">exchange_status_port<a href="#exchange_status_port" class="hash-link" aria-label="Direct link to exchange_status_port" title="Direct link to exchange_status_port">​</a></h3><p>Control command port for complex queries (to be considered for merging with rpc_port in the future)</p><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="path">path<a href="#path" class="hash-link" aria-label="Direct link to path" title="Direct link to path">​</a></h3><p>Local data path directory</p><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;path&gt;/var/lib/clickhouse/&lt;/path&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="tmp_path">tmp_path<a href="#tmp_path" class="hash-link" aria-label="Direct link to tmp_path" title="Direct link to tmp_path">​</a></h3><p>Local temporary directory path, used to store temporary data during the query process</p><p>Example：</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;tmp_path&gt;/var/lib/clickhouse/tmp/&lt;/tmp_path&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="users_config">users_config<a href="#users_config" class="hash-link" aria-label="Direct link to users_config" title="Direct link to users_config">​</a></h3><p>The path to the user-related configuration file.</p><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;users_config&gt;/path/to/userconf/users.xml&lt;/users_config&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="service-discovery">Service discovery<a href="#service-discovery" class="hash-link" aria-label="Direct link to Service discovery" title="Direct link to Service discovery">​</a></h3><p>Configure other components (including other servers) that communicate with the server process. Other components that interact with the server are server, tso, daemon manager, virtual warehouse and resource manager</p><p>keys<strong>:</strong></p><ul><li><strong>mode</strong> : service discovery mode, optional configuration parameters are local , dns, consul</li><li><strong>cluster</strong> : cluster name</li><li><strong>disable_cache</strong> : If configured as false, caching will be enabled to reduce the number of calls to service discovery</li><li><strong>cache_timeout</strong> : cache expiration time</li></ul><p>Example</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;service_discovery&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;mode&gt;dns&lt;/mode&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;cluster&gt;default&lt;/cluster&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;disable_cache&gt;false&lt;/disable_cache&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;cache_timeout&gt;5&lt;/cache_timeout&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;server&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;psm&gt;data.cnch.server&lt;/psm&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;service&gt;cnch-server-pp&lt;/service&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;headless_service&gt;cnch-server-pp-headless&lt;/headless_service&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/server&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;tso&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;psm&gt;data.cnch.tso&lt;/psm&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;service&gt;cnch-tso&lt;/service&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;headless_service&gt;cnch-tso-headless&lt;/headless_service&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/tso&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;vw&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;psm&gt;data.cnch.vw&lt;/psm&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/vw&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;daemon_manager&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;psm&gt;data.cnch.daemon_manager&lt;/psm&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;service&gt;cnch-daemon-manager&lt;/service&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;headless_service&gt;cnch-daemon-manager-headless&lt;/headless_service&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/daemon_manager&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;resource_manager&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;psm&gt;data.cnch.resource_manager&lt;/psm&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;service&gt;cnch-resource-manager&lt;/service&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;headless_service&gt;cnch-resource-manager-headless&lt;/headless_service&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/resource_manager&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/service_discovery&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="catalog-service">Catalog service<a href="#catalog-service" class="hash-link" aria-label="Direct link to Catalog service" title="Direct link to Catalog service">​</a></h3><p>Catalog service related configuration</p><p>Keys:</p><ul><li><strong>type</strong> : Metadata storage engine type, support bytekv, fdb</li></ul><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!-- For foundationDB metastore--&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;catalog_service&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;!--TODO: move name_space into catalog_service tag --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;!--Metastore storage type, support `bytekv` and `fdb`--&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;type&gt;fdb&lt;/type&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;fdb&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;cluster_file&gt;/path/to/fdb/cluster_config&lt;/cluster_file&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/fdb&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/catalog_service&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3></h3><h2 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="hdfs-configuration-parameters">HDFS configuration parameters<a href="#hdfs-configuration-parameters" class="hash-link" aria-label="Direct link to HDFS configuration parameters" title="Direct link to HDFS configuration parameters">​</a></h2><p>When starting the service, the configuration items will be detected in the order of cfs_addr&gt;hdfs_addr&gt;hdfs_ha_nameservice&gt;hdfs_nnproxy. Once a configuration item configuration is hit, the corresponding configuration item will be used to access HDFS</p><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="hdfs_user">hdfs_user<a href="#hdfs_user" class="hash-link" aria-label="Direct link to hdfs_user" title="Direct link to hdfs_user">​</a></h3><p>The name of the user used by default when accessing HDFS, the default is clickhouse</p><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;hdfs_user&gt;clickhouse&lt;/hdfs_user&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="cfs_addr">cfs_addr<a href="#cfs_addr" class="hash-link" aria-label="Direct link to cfs_addr" title="Direct link to cfs_addr">​</a></h3><p>The address of the cfs service, the format is cfs://service_url</p><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;cfs_addr&gt;cfs://service_url&lt;/cfs_addr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="hdfs_addr">hdfs_addr<a href="#hdfs_addr" class="hash-link" aria-label="Direct link to hdfs_addr" title="Direct link to hdfs_addr">​</a></h3><p>The address of hdfs service, the format is hdfs://nnip:nnport/path</p><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;hdfs_addr&gt;hdfs://nnip:nnport/path&lt;/hdfs_addr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="hdfs_ha_nameservice">hdfs_ha_nameservice<a href="#hdfs_ha_nameservice" class="hash-link" aria-label="Direct link to hdfs_ha_nameservice" title="Direct link to hdfs_ha_nameservice">​</a></h3><p>If the user&#x27;s HDFS cluster supports High Avaliability feature,  the namespace needs to be configured in advance in the configuration file, and the addresses of the namespace need to be configured in <a href="#markdown-header-hdfs3_config">libhdfs3
config</a>.
Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;hdfs_ha_nameservice&gt;hdfs_service&lt;/hdfs_ha_nameservice&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>and in libhdfs3 config:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;name&gt;dfs.nameservices&lt;/name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;value&gt;my-hadoop&lt;/value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;name&gt;dfs.ha.namenodes.my-hadoop&lt;/name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;value&gt;machine1, machine2&lt;/value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;name&gt;dfs.namenode.rpc-address.my-hadoop.machine1&lt;/name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;value&gt;master:65212&lt;/value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;name&gt;dfs.namenode.rpc-address.my-hadoop.machine2&lt;/name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;value&gt;standby:65212&lt;/value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/property&gt;</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="storage_configuration">storage_configuration<a href="#storage_configuration" class="hash-link" aria-label="Direct link to storage_configuration" title="Direct link to storage_configuration">​</a></h3><ol><li>The next configuration level corresponds to the storage_configuration configuration level in the configuration file</li></ol><ul><li>storage_configuration<ul><li>cnch_default_policy, specifies the StoragePolicy used by ByConity to store actual data, an optional configuration item, the default is cnch_default_hdfs, and the default storage policy for cnch should only include one HDFSDisk or S3Disk<ul><li>When creating a table, for a ByConity table, if the storage_policy MergeTreeSettings is not specified, it will be changed to ${cnch_default_policy} by default</li></ul></li><li>cnch_auxility_policy, specifies the StoragePolicy used by ByConity to store temporary data on the local disk, optional configuration item, the default is default</li><li>disks<ul><li>${DISK_NAME}<ul><li>type, the type of this disk, optional configuration item, the default is local<ul><li>ByConity supports the selection of four disks, hdfs/bytehdfs/s3/bytes3, as remote storage. Currently, only a single Disk is supported in the StoragePolicy</li><li>In order to be compatible with the internal configuration, hdfs/bytehdfs are resolved to the internal bytehdfs Disk, s3/bytes3 are resolved to internal bytes3 disk, and the type of the community version HDFSDisk is renamed to communityhdfs, community version S3Disk is renamed to communitys3</li><li>The configuration items of HDFSDisk/S3Disk specified by the StoragePolicy used by ByConity should be the same in all Server/Worker configuration files</li></ul></li><li>path<ul><li>Which path or data key prefix of this Disk will the data be stored in, required configuration items</li></ul></li><li>hdfs_params<ul><li>A new optional configuration item for disks of type bytehdfs, including the following parameters<ul><li>hdfs_user, the user used to connect to hdfs, an optional configuration item, the default is clickhouse</li><li>cfs_addr, the address of cfs, an optional configuration item, this configuration item needs to be configured only when using cfs</li><li>hdfs_addr, the namenode address of hdfs, optional configuration items, such as hdfs://nnip:nnport/path</li><li>hdfs_ha_nameservice, an optional configuration item. If you need to use hdfs HA, you can use this configuration item to specify the corresponding service. The corresponding hdfs configuration needs to be configured through the hdfs3_config configuration file</li><li>hdfs_nnproxy, nnproxy address of hdfs, optional configuration item, default is nnproxy</li><li>If DiskByteHDFS does not configure the hdfs_params configuration item, it will find the global configuration item in the configuration file, such as the value of the hdfs_user configuration item in the configuration file</li></ul></li></ul></li><li>region<ul><li>For bytes3 disk, specified the region of s3 service</li></ul></li><li>endpoint<ul><li>For bytes3 disk, specified the endpoint of s3 service</li></ul></li><li>bucket<ul><li>For bytes3 disk, specified the bucket of s3 service</li></ul></li><li>akid<ul><li>For bytes3 disk, specified the access key id of s3 service, if not configured, will check environment variable AWS_ACCESS_KEY_ID</li></ul></li><li>aksecret<ul><li>For bytes3 disk, specified the access key secret of s3 service, if not configured, will check environment variable AWS_SECRET_ACCESS_KEY</li></ul></li></ul></li></ul></li><li>policies<ul><li>${STORAGE_POLICY_NAME}<ul><li>volumes<ul><li>${VOLUME_NAME}<ul><li>default, the default disk in this Volume, a required configuration item, the default disk will be used to store some data that does not support multi-disk storage, such as metastore, etc.</li><li>disk, the name of all the disks contained in this Volume, the required configuration items, the corresponding Disk needs to be configured in storage_configuration.disks</li></ul></li></ul></li></ul></li></ul></li></ul></li></ul><ol><li>configuration demo (with both hdfs and s3 as storage, but hdfs as default)</li></ol><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;storage_configuration&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;disks&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;default&gt;&lt;/default&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;server_local_disk1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;path&gt;/home/ch_test_service/service_test_env/server_data1/&lt;/path&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/server_local_disk1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;server_local_disk2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;path&gt;/home/ch_test_service/service_test_env/server_data2/&lt;/path&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/server_local_disk2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;server_hdfs_disk0&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;path&gt;/user/cnch/&lt;/path&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;type&gt;bytehdfs&lt;/type&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/server_hdfs_disk0&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;server_s3_disk0&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;type&gt;bytes3&lt;/type&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;region&gt;cn-beijing&lt;/region&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;endpoint&gt;https://tos-s3-cn-beijing.volces.com&lt;/endpoint&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;bucket&gt;byconity&lt;/bucket&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;path&gt;test-service/&lt;/path&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;ak_id&gt;some_access_key_id&lt;/ak_id&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;ak_secret&gt;some_access_key_secret&lt;/ak_secret&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/server_s3_disk0&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/disks&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;policies&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;default&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;volumes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;local&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;default&gt;default&lt;/default&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;disk&gt;default&lt;/disk&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;disk&gt;server_local_disk1&lt;/disk&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;disk&gt;server_local_disk2&lt;/disk&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;/local&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/volumes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/default&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;cnch_default_hdfs&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;volumes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;hdfs&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;default&gt;server_hdfs_disk0&lt;/default&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;disk&gt;server_hdfs_disk0&lt;/disk&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;/hdfs&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/volumes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/cnch_default_hdfs&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;cnch_default_s3&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;volumes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;s3&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;default&gt;server_s3_disk0&lt;/default&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;disk&gt;server_s3_disk0&lt;/disk&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;/s3&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/volumes&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/cnch_default_s3&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/policies&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/storage_configuration&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol><li>In order to be compatible with the internal configuration items of the old version, if the user only specifies a StoragePolicy of default, which also includes two volumes of hdfs and local, then this configuration item will be parsed into two StoragePolicy, one is default, but only contains The local volume, the other is ${cnch_default_policy}, which only includes the hdfs volume</li><li>By specified multiple storage policy in storage_configuration, you can specified how the data of table is stored. For example, you can set cnch_default_policy to <code>cnch_default_hdfs</code> to let data store in hdfs by default, and specified some table stored in s3 by specify settings in create table query<div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">    create table test_store (key Int) engine = CnchMergeTree order by key settings storage_policy = &#x27;cnch_default_s3&#x27;;</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol><li>One thing to note is that s3 storage is still a preview feature, the support for attach&amp;detach is still WIP, data store layout and format may still have some changes before it&#x27;s fully available</li></ol></li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="hdfs3_config">hdfs3_config<a href="#hdfs3_config" class="hash-link" aria-label="Direct link to hdfs3_config" title="Direct link to hdfs3_config">​</a></h3><p>libhdfs3 configuration doc path</p><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;hdfs3_config&gt;/path/to/conf/hdfs3.xml&lt;/hdfs3_config&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="disk_cache_strategies">disk_cache_strategies<a href="#disk_cache_strategies" class="hash-link" aria-label="Direct link to disk_cache_strategies" title="Direct link to disk_cache_strategies">​</a></h3><p>The <code>disk_cache_strategies</code> configuration manages the DiskCache behavior in ByConity, encompassing three different strategies for file-level, MergeTree tables, and Hive external tables. These strategies have distinct cache paths and management techniques. The configuration defines multiple parameters to optimize I/O performance and enhance data processing speed.</p><h4 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="diskcache-configuration-parameters">DiskCache Configuration Parameters:<a href="#diskcache-configuration-parameters" class="hash-link" aria-label="Direct link to DiskCache Configuration Parameters:" title="Direct link to DiskCache Configuration Parameters:">​</a></h4><table><thead><tr><th align="center">Parameter Name</th><th align="center">Description</th><th align="center">Default Value</th></tr></thead><tbody><tr><td align="center">hits_to_cache</td><td align="center">Number of times a data item must be accessed to be cached</td><td align="center">2</td></tr><tr><td align="center">segment_size</td><td align="center">The minimum number of rows per DiskCache unit</td><td align="center">8192</td></tr><tr><td align="center">lru_max_size</td><td align="center">Maximum size of the LRU cache (in bytes)</td><td align="center">2</td></tr><tr><td align="center">lru_max_object_num</td><td align="center">Maximum number of objects in the LRU cache （std::numeric_limits&lt;size_t&gt;::max()）</td><td align="center">4294967295（sys 32-bit）</td></tr><tr><td align="center">random_drop_threshold</td><td align="center">Threshold for randomly dropping cache tasks</td><td align="center">50</td></tr><tr><td align="center">stats_bucket_size</td><td align="center">Number of buckets for storing and caching key counts</td><td align="center">10000</td></tr><tr><td align="center">lru_update_interval</td><td align="center">LRU cache update interval (in seconds)</td><td align="center">60</td></tr><tr><td align="center">cache_dispatcher_per_disk</td><td align="center">Whether to start a loading thread for each disk</td><td align="center">true</td></tr><tr><td align="center">cache_loader_per_disk</td><td align="center">Number of threads allocated for each disk</td><td align="center">2</td></tr><tr><td align="center">cache_shard_num</td><td align="center">Number of shards for the LRU cache</td><td align="center">12</td></tr><tr><td align="center">cache_set_rate_limit</td><td align="center">Cache write rate limiter</td><td align="center">0 (no limit)</td></tr><tr><td align="center">disk_cache_dir</td><td align="center">Relative path for cache writes</td><td align="center">disk_cache_v1</td></tr></tbody></table><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;disk_cache_strategies&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;File&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;disk_cache_dir&gt;file_disk_cache&lt;/disk_cache_dir&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/File&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;MergeTree&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;disk_cache_dir&gt;mergetree_disk_cache&lt;/disk_cache_dir&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/MergeTree&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;Hive&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;disk_cache_dir&gt;hive_disk_cache&lt;/disk_cache_dir&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/Hive&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/disk_cache_strategies&gt;</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="splitdiskcache-configuration-parameters">SplitDiskCache Configuration Parameters:<a href="#splitdiskcache-configuration-parameters" class="hash-link" aria-label="Direct link to SplitDiskCache Configuration Parameters:" title="Direct link to SplitDiskCache Configuration Parameters:">​</a></h4><p>ByConity&#x27;s local caching strategy supports the separation of Meta and Data caching. In specific scenarios, it prioritizes Meta caching, effectively reducing remote read tail latency caused by small I/O operations.</p><table><thead><tr><th align="center">Parameter Name</th><th align="center">Description</th><th align="center">Default Value</th></tr></thead><tbody><tr><td align="center">meta_cache_nums_ratio</td><td align="center">Ratio of files for meta caching</td><td align="center">Default 0 for mixed storage; &gt;0 for separate caching</td></tr><tr><td align="center">meta_cache_size_ratio</td><td align="center">Ratio of space for meta caching</td><td align="center">50</td></tr></tbody></table><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;disk_cache_strategies&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;simple&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;meta_cache_nums_ratio&gt;50&lt;/meta_cache_nums_ratio&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;meta_cache_size_ratio&gt;10&lt;/meta_cache_size_ratio&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/simple&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/disk_cache_strategies&gt;</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="stealingdiskcache-configuration-parameters">StealingDiskCache Configuration Parameters:<a href="#stealingdiskcache-configuration-parameters" class="hash-link" aria-label="Direct link to StealingDiskCache Configuration Parameters:" title="Direct link to StealingDiskCache Configuration Parameters:">​</a></h4><p>When Server distributes Parts to Workers, it adjusts the algorithm for load balancing, which may result in the same Part being dispatched to different nodes in different queries, increasing Cache miss rates. Additionally, when the Preload feature is enabled, this inconsistency can cause preheated Parts to not be utilized by subsequent queries. DiskCacheStealing ensures that Parts are cached on fixed nodes using a consistent HASH algorithm and reads data from remote nodes when querying non-cache nodes, improving local disk cache performance.</p><table><thead><tr><th align="center">Parameter Name</th><th align="center">Description</th><th align="center">Default Value</th></tr></thead><tbody><tr><td align="center">stealing_max_request_rate</td><td align="center">Maximum rate for reading from remote caches</td><td align="center">0 (no limit)</td></tr><tr><td align="center">stealing_connection_timeout_ms</td><td align="center">Connection timeout threshold for reading from remote caches</td><td align="center">5000 (5 seconds)</td></tr><tr><td align="center">stealing_read_timeout_ms</td><td align="center">Read timeout threshold for reading from remote caches</td><td align="center">10000 (10 seconds)</td></tr><tr><td align="center">stealing_max_retry_times</td><td align="center">Maximum number of retries for failed remote cache reads</td><td align="center">3</td></tr><tr><td align="center">stealing_retry_sleep_ms</td><td align="center">Retry interval for failed remote cache reads</td><td align="center">100 (100 milliseconds)</td></tr><tr><td align="center">stealing_max_queue_count</td><td align="center">Maximum queue length for reading from remote caches</td><td align="center">10000</td></tr></tbody></table><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;disk_cache_strategies&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;MergeTree&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;stealing_max_request_rate&gt;0&lt;/stealing_max_request_rate&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;stealing_connection_timeout_ms&gt;5&lt;/stealing_connection_timeout_ms&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;stealing_read_timeout_ms&gt;10&lt;/stealing_read_timeout_ms&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;stealing_max_retry_times&gt;3&lt;/stealing_max_retry_times&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;stealing_retry_sleep_ms&gt;100&lt;/stealing_retry_sleep_ms&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;stealing_max_queue_count&gt;10000&lt;/stealing_max_queue_count&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/MergeTree&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/disk_cache_strategies&gt;</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="how-to-enable-stealingdiskcache-at-the-table-level">How to Enable StealingDiskCache at the Table Level<a href="#how-to-enable-stealingdiskcache-at-the-table-level" class="hash-link" aria-label="Direct link to How to Enable StealingDiskCache at the Table Level" title="Direct link to How to Enable StealingDiskCache at the Table Level">​</a></h4><ul><li>For existing tables, you can use the <code>ALTER TABLE</code> statement to change the table configuration:</li></ul><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">ALTER TABLE [database].[table] ON CLUSTER cluster  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SETTINGS disk_cache_stealing_mode = 3;</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>For new tables, you can specify the parameter when creating the table using <code>CREATE TABLE</code>:</li></ul><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">CREATE TABLE [database].[table]  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ... -- Column definitions  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">) ENGINE = MergeTree()  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SETTINGS disk_cache_stealing_mode = 3;</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Parameter Description:</p><table><thead><tr><th><code>disk_cache_stealing_mode</code></th><th>Description</th></tr></thead><tbody><tr><td>0</td><td>Default value, DiskCacheStealing is disabled</td></tr><tr><td>1</td><td>Only issue RPC requests to remote nodes for cache reads to retrieve remote cache copies</td></tr><tr><td>2</td><td>Only issue RPC requests to remote nodes for cache writes to store remote cache copies</td></tr><tr><td>3</td><td>Attempt to write cache copies to remote nodes during writes, and if the local copy is not available, attempt to read from remote nodes during reads</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="cnch_kafka_log">cnch_kafka_log<a href="#cnch_kafka_log" class="hash-link" aria-label="Direct link to cnch_kafka_log" title="Direct link to cnch_kafka_log">​</a></h3><p>After configuration, ByConity will open kafka_log, and the consumption log can be viewed through the system table</p><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;cnch_kafka_log&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;database&gt;cnch_system&lt;/database&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;table&gt;cnch_kafka_log&lt;/table&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;flush_max_row_count&gt;10000&lt;/flush_max_row_count&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;flush_interval_milliseconds&gt;7500&lt;/flush_interval_milliseconds&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/cnch_kafka_log&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="brpc">brpc<a href="#brpc" class="hash-link" aria-label="Direct link to brpc" title="Direct link to brpc">​</a></h3><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="cnch_transaction_cleaner_max_threads">cnch_transaction_cleaner_max_threads<a href="#cnch_transaction_cleaner_max_threads" class="hash-link" aria-label="Direct link to cnch_transaction_cleaner_max_threads" title="Direct link to cnch_transaction_cleaner_max_threads">​</a></h3><p>The thread pool size of ByConity background cleaning transaction record, the default is 128</p><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;cnch_transaction_cleaner_max_threads&gt;128&lt;/cnch_transaction_cleaner_max_threads&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="cnch_transaction_cleaner_queue_size">cnch_transaction_cleaner_queue_size<a href="#cnch_transaction_cleaner_queue_size" class="hash-link" aria-label="Direct link to cnch_transaction_cleaner_queue_size" title="Direct link to cnch_transaction_cleaner_queue_size">​</a></h3><p>The thread pool queue size of ByConity background cleaning transaction record, the default is 10000</p><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;cnch_transaction_cleaner_queue_size&gt;10000&lt;/cnch_transaction_cleaner_queue_size&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="dance_merge_selector">dance_merge_selector<a href="#dance_merge_selector" class="hash-link" aria-label="Direct link to dance_merge_selector" title="Direct link to dance_merge_selector">​</a></h3><p>Configure self-developed merge selection strategy parameters</p><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;dance_merge_selector&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;max_total_rows_to_merge&gt;10000000&lt;/max_total_rows_to_merge&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/dance_merge_selector&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="exchange_timeout_ms">exchange_timeout_ms<a href="#exchange_timeout_ms" class="hash-link" aria-label="Direct link to exchange_timeout_ms" title="Direct link to exchange_timeout_ms">​</a></h3><p>Complex query data transfer rpc timeout, default 100000</p><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;exchange_timeout_ms&gt;100000&lt;/exchange_timeout_ms&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="tso-configuration-parameters">TSO configuration parameters<a href="#tso-configuration-parameters" class="hash-link" aria-label="Direct link to TSO configuration parameters" title="Direct link to TSO configuration parameters">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="tso_service">tso_service<a href="#tso_service" class="hash-link" aria-label="Direct link to tso_service" title="Direct link to tso_service">​</a></h3><p>Configure tso service, including service port, metadata storage, etc.</p><p>Keys:</p><ul><li><strong>port</strong>: TSO service TCP port</li><li><strong>type</strong>: TSO metadata storage engine</li></ul><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;tso_service&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;port&gt;8080&lt;/port&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;!-- Support for CNCH-CE Merge. Metastore store type, support `bytekv` and `fdb` --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;type&gt;fdb&lt;/type&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;fdb&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;cluster_file&gt;/path/to/fdb/conf/fdb.cluster&lt;/cluster_file&gt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/fdb&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &lt;/tso_service&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="service_discovery">service_discovery<a href="#service_discovery" class="hash-link" aria-label="Direct link to service_discovery" title="Direct link to service_discovery">​</a></h3><p>Service discovery related configuration, the highly available TSO process obtains other TSO server addresses and ports for communication through service discovery</p><p>Keys:</p><ul><li><strong>mode</strong> : Like other modules service discovery, it supports dns, consul, local and other modes</li></ul><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;service_discovery&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;mode&gt;dns&lt;/mode&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;tso&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;psm&gt;data.cnch.tso&lt;/psm&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;service&gt;cnch-tso&lt;/service&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;headless_service&gt;cnch-tso-headless&lt;/headless_service&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/tso&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/service_discovery&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="daemon-manager-configuration-parameters">Daemon Manager configuration parameters<a href="#daemon-manager-configuration-parameters" class="hash-link" aria-label="Direct link to Daemon Manager configuration parameters" title="Direct link to Daemon Manager configuration parameters">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="daemon_manager">daemon_manager<a href="#daemon_manager" class="hash-link" aria-label="Direct link to daemon_manager" title="Direct link to daemon_manager">​</a></h3><p>Configure daemon manager process ports and information about scheduling background tasks</p><p>Keys:</p><ul><li>pport: DM process TCP port</li><li>http: DM process http port and other configurations</li><li>workload_thread_interval_ms: The time interval for background task scheduling</li><li>daemon_jobs: The type and configuration of background tasks that DM is responsible for scheduling. Schedulable task types include: PART_GC, PART_MERGE, CONSUMER, GLOBAL_GC, TXN_GC, etc.</li></ul><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;daemon_manager&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;port&gt;8090&lt;/port&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;http&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;port&gt;8091&lt;/port&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;receive_timeout&gt;1800&lt;/receive_timeout&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;send_timeout&gt;1800&lt;/send_timeout&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/http&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;workload_thread_interval_ms&gt;1000&lt;/workload_thread_interval_ms&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;daemon_jobs&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;job&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;name&gt;PART_GC&lt;/name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;!-- Interval in millisecond --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;interval&gt;10000&lt;/interval&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/job&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;job&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;name&gt;PART_MERGE&lt;/name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;!-- Interval in millisecond --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;interval&gt;10000&lt;/interval&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/job&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;job&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;name&gt;CONSUMER&lt;/name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;!-- Interval in millisecond --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;interval&gt;10000&lt;/interval&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/job&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;job&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;name&gt;GLOBAL_GC&lt;/name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;!-- Interval in millisecond --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;interval&gt;50000&lt;/interval&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/job&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;job&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;name&gt;TXN_GC&lt;/name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;!-- Interval in millisecond --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;interval&gt;600000&lt;/interval&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/job&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;job&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;name&gt;DEDUP_WORKER&lt;/name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;!-- Interval in millisecond --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;interval&gt;10000&lt;/interval&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/job&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;job&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;name&gt;PART_CLUSTERING&lt;/name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;!-- Interval in millisecond --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;interval&gt;10000&lt;/interval&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/job&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/daemon_jobs&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/daemon_manager&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="cnch_data_retention_time_in_sec">cnch_data_retention_time_in_sec<a href="#cnch_data_retention_time_in_sec" class="hash-link" aria-label="Direct link to cnch_data_retention_time_in_sec" title="Direct link to cnch_data_retention_time_in_sec">​</a></h3><p>The retention time of deleted tables and databases before being completely cleaned up, defaults to 3 days. During this period, users can recover deleted data.</p><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;cnch_data_retention_time_in_sec&gt;86400&lt;/cnch_data_retention_time_in_sec&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="resource-manager-configuration-parameters">Resource Manager configuration parameters<a href="#resource-manager-configuration-parameters" class="hash-link" aria-label="Direct link to Resource Manager configuration parameters" title="Direct link to Resource Manager configuration parameters">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="resource_manager">resource_manager<a href="#resource_manager" class="hash-link" aria-label="Direct link to resource_manager" title="Direct link to resource_manager">​</a></h3><p>Configure resource manager process port, initial VW configuration and other information.</p><p>Keys：</p><ul><li><strong>port: </strong>The port number where the service starts</li><li><strong>vws: </strong> Initially configured VW related information</li></ul><p>Example：</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;resource_manager&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;port&gt;18989&lt;/port&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;vws&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;vw&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;name&gt;vw_default&lt;/name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;type&gt;Default&lt;/type&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;num_workers&gt;1&lt;/num_workers&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;worker_groups&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;worker_group&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;name&gt;wg_default&lt;/name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;type&gt;Physical&lt;/type&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;/worker_group&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/worker_groups&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/vw&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/vws&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/resource_manager&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="catalog">catalog<a href="#catalog" class="hash-link" aria-label="Direct link to catalog" title="Direct link to catalog">​</a></h3><p>Catalog related configuration.</p><p>Keys:</p><ul><li>name_space</li></ul><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;name_space&gt;default&lt;/name_space&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="catalog_service">catalog_service<a href="#catalog_service" class="hash-link" aria-label="Direct link to catalog_service" title="Direct link to catalog_service">​</a></h3><p>catalog_service related configuration.</p><p>Keys:</p><ul><li><strong>type</strong> - catalog service type</li></ul><p>Example:</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!-- For foundationDB metastore--&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;catalog_service&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;!--TODO: move name_space into catalog_service tag --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;!--Metastore storage type, support `bytekv` and `fdb`--&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;type&gt;fdb&lt;/type&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;fdb&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;cluster_file&gt;/path/to/fdb/cluster_config&lt;/cluster_file&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/fdb&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/catalog_service&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_HAaO padding--none margin-left--sm"><li class="tag_Ut5_"><a class="tag_sQub tagRegular_dfhI" href="/docs/tags/docs">Docs</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ByConity/byconity.github.io/tree/main/docs/admin-guides/cluster-configuration.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_O9Og" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_DEFe"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/admin-guides/monitoring"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Monitor</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/admin-guides/privilege-management"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Privilege Management</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_Q7NC thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#server-configuration-parameters" class="table-of-contents__link toc-highlight">Server Configuration Parameters</a><ul><li><a href="#cnch_type" class="table-of-contents__link toc-highlight">cnch_type</a></li><li><a href="#tcp_port" class="table-of-contents__link toc-highlight">tcp_port</a></li><li><a href="#http_port" class="table-of-contents__link toc-highlight">http_port</a></li><li><a href="#rpc_port" class="table-of-contents__link toc-highlight">rpc_port</a></li><li><a href="#exchange_port" class="table-of-contents__link toc-highlight">exchange_port</a></li><li><a href="#exchange_status_port" class="table-of-contents__link toc-highlight">exchange_status_port</a></li><li><a href="#path" class="table-of-contents__link toc-highlight">path</a></li><li><a href="#tmp_path" class="table-of-contents__link toc-highlight">tmp_path</a></li><li><a href="#users_config" class="table-of-contents__link toc-highlight">users_config</a></li><li><a href="#service-discovery" class="table-of-contents__link toc-highlight">Service discovery</a></li><li><a href="#catalog-service" class="table-of-contents__link toc-highlight">Catalog service</a></li></ul></li><li><a href="#hdfs-configuration-parameters" class="table-of-contents__link toc-highlight">HDFS configuration parameters</a><ul><li><a href="#hdfs_user" class="table-of-contents__link toc-highlight">hdfs_user</a></li><li><a href="#cfs_addr" class="table-of-contents__link toc-highlight">cfs_addr</a></li><li><a href="#hdfs_addr" class="table-of-contents__link toc-highlight">hdfs_addr</a></li><li><a href="#hdfs_ha_nameservice" class="table-of-contents__link toc-highlight">hdfs_ha_nameservice</a></li><li><a href="#storage_configuration" class="table-of-contents__link toc-highlight">storage_configuration</a></li><li><a href="#hdfs3_config" class="table-of-contents__link toc-highlight">hdfs3_config</a></li><li><a href="#disk_cache_strategies" class="table-of-contents__link toc-highlight">disk_cache_strategies</a></li><li><a href="#cnch_kafka_log" class="table-of-contents__link toc-highlight">cnch_kafka_log</a></li><li><a href="#brpc" class="table-of-contents__link toc-highlight">brpc</a></li><li><a href="#cnch_transaction_cleaner_max_threads" class="table-of-contents__link toc-highlight">cnch_transaction_cleaner_max_threads</a></li><li><a href="#cnch_transaction_cleaner_queue_size" class="table-of-contents__link toc-highlight">cnch_transaction_cleaner_queue_size</a></li><li><a href="#dance_merge_selector" class="table-of-contents__link toc-highlight">dance_merge_selector</a></li><li><a href="#exchange_timeout_ms" class="table-of-contents__link toc-highlight">exchange_timeout_ms</a></li></ul></li><li><a href="#tso-configuration-parameters" class="table-of-contents__link toc-highlight">TSO configuration parameters</a><ul><li><a href="#tso_service" class="table-of-contents__link toc-highlight">tso_service</a></li><li><a href="#service_discovery" class="table-of-contents__link toc-highlight">service_discovery</a></li></ul></li><li><a href="#daemon-manager-configuration-parameters" class="table-of-contents__link toc-highlight">Daemon Manager configuration parameters</a><ul><li><a href="#daemon_manager" class="table-of-contents__link toc-highlight">daemon_manager</a></li><li><a href="#cnch_data_retention_time_in_sec" class="table-of-contents__link toc-highlight">cnch_data_retention_time_in_sec</a></li></ul></li><li><a href="#resource-manager-configuration-parameters" class="table-of-contents__link toc-highlight">Resource Manager configuration parameters</a><ul><li><a href="#resource_manager" class="table-of-contents__link toc-highlight">resource_manager</a></li><li><a href="#catalog" class="table-of-contents__link toc-highlight">catalog</a></li><li><a href="#catalog_service" class="table-of-contents__link toc-highlight">catalog_service</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row"><div class="col col--3"><img src="/img/footer-logo.svg" alt="ByConity" class="themedImage_DeRy themedImage--light_hbln footer__logo"><img src="/img/footer-logo.svg" alt="ByConity" class="themedImage_DeRy themedImage--dark_qgR1 footer__logo"></div><div class="col"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/main-principle-concepts">Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community">Community</a></li><li class="footer__item"><a class="footer__link-item" href="/users">Users</a></li><li class="footer__item"><a href="https://space.bilibili.com/2065226922?spm_id_from=333.1007.0.0" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bilibili<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_LBPb"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/ByConity/ByConity" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_LBPb"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 ByteDance.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.c5845235.js"></script>
<script src="/assets/js/main.4f1ffde1.js"></script>
</body>
</html>