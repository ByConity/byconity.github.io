<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Performance Comparison Analysis of ByConity and Mainstream Open-Source OLAP Engines (ClickHouse, Doris, Presto) | ByConity</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://byconity.github.io/img/byconity-social-card.png"><meta data-rh="true" name="twitter:image" content="https://byconity.github.io/img/byconity-social-card.png"><meta data-rh="true" property="og:url" content="https://byconity.github.io/blog/byconity-benchmark"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Performance Comparison Analysis of ByConity and Mainstream Open-Source OLAP Engines (ClickHouse, Doris, Presto) | ByConity"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-07-21T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/tigerwangyb"><meta data-rh="true" property="article:tag" content="video introduction,docusaurus"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://byconity.github.io/blog/byconity-benchmark"><link data-rh="true" rel="alternate" href="https://byconity.github.io/blog/byconity-benchmark" hreflang="en"><link data-rh="true" rel="alternate" href="https://byconity.github.io/zh-cn/blog/byconity-benchmark" hreflang="zh-cn"><link data-rh="true" rel="alternate" href="https://byconity.github.io/blog/byconity-benchmark" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://Y8UJSN6KEB-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ByConity RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ByConity Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BYY7CCPJZ6"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-BYY7CCPJZ6",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="ByConity" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.25c3bd5d.css">
<link rel="preload" href="/assets/js/runtime~main.adc211c6.js" as="script">
<link rel="preload" href="/assets/js/main.8d48683e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_Rzz1" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_hfek"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="ByConity Logo" class="themedImage_DeRy themedImage--light_hbln"><img src="/img/logo.png" alt="ByConity Logo" class="themedImage_DeRy themedImage--dark_qgR1"></div><b class="navbar__title text--truncate">ByConity</b></a><a class="navbar__item navbar__link" href="/docs/introduction/what-is-byconity">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/community/become-maintainer">Community</a><a class="navbar__item navbar__link" href="/users">Users</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/introduction/what-is-byconity">0.4.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/introduction/what-is-byconity">0.4.x</a></li><li><a class="dropdown__link" href="/docs/0.3.0/introduction/what-is-byconity">0.3.0</a></li><li><a class="dropdown__link" href="/docs/0.2.0/introduction/main-principle-concepts">0.2.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">English</a><ul class="dropdown__menu"><li><a href="/blog/byconity-benchmark" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/zh-cn/blog/byconity-benchmark" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-cn">中文（中国）</a></li></ul></div><a href="https://github.com/ByConity/ByConity" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"><span>GitHub</span></a><div class="searchBox_mmj0"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_NWrx"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_J5VD thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_ZkTY margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Jaez clean-list"><li class="sidebarItem_mMbS"><a class="sidebarItemLink_LJmi" href="/blog/byconity-elt">Detailed Explanation of ByConity ELT Principles</a></li><li class="sidebarItem_mMbS"><a aria-current="page" class="sidebarItemLink_LJmi sidebarItemLinkActive_nl4s" href="/blog/byconity-benchmark">Performance Comparison Analysis of ByConity and Mainstream Open-Source OLAP Engines (ClickHouse, Doris, Presto)</a></li><li class="sidebarItem_mMbS"><a class="sidebarItemLink_LJmi" href="/blog/2023-05-24-byconity-announcement-opensources-its-cloudnative-data-warehouse">ByteDance Open Sources Its Cloud Native Data Warehouse ByConity</a></li><li class="sidebarItem_mMbS"><a class="sidebarItemLink_LJmi" href="/blog/byconity-an-opensource-cloudnative-data-warehouse-post">ByConity -- An Open source Cloud-native Data Warehouse</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_XMSB" itemprop="headline">Performance Comparison Analysis of ByConity and Mainstream Open-Source OLAP Engines (ClickHouse, Doris, Presto)</h1><div class="container_fJtn margin-vert--md"><time datetime="2023-07-21T00:00:00.000Z" itemprop="datePublished">July 21, 2023</time> · <!-- -->9 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_YzU5"><div class="avatar margin-bottom--sm"><a href="https://github.com/tigerwangyb" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/tigerwangyb.png" alt="Yunbo Wang"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/tigerwangyb" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Yunbo Wang</span></a></div><small class="avatar__subtitle" itemprop="description">ByConity maintainer</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2><p>As the amount and complexity of data continue to increase, more and more companies are using OLAP (Online Analytical Processing) engines to process large-scale data and provide instant analysis results. Performance is a crucial factor when selecting an OLAP engine. Therefore, this article will compare the performance of four open-source OLAP engines: ClickHouse, Doris, Presto, and ByConity, using the 99 query statements from the TPC-DS benchmark test. The aim is to provide a reference for companies to choose a suitable OLAP engine.</p><h2 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="introduction-to-tpc-ds-benchmark-test">Introduction to TPC-DS Benchmark Test<a href="#introduction-to-tpc-ds-benchmark-test" class="hash-link" aria-label="Direct link to Introduction to TPC-DS Benchmark Test" title="Direct link to Introduction to TPC-DS Benchmark Test">​</a></h2><p>TPC-DS (Transaction Processing Performance Council Decision Support Benchmark) is a benchmark test designed for decision support systems (DSS). Developed by the TPC organization, it simulates multidimensional analysis and decision support scenarios, providing 99 query statements to evaluate the performance of database systems in complex multidimensional analysis scenarios. Each query is designed to simulate complex decision support scenarios, including joins across multiple tables, aggregations and groupings, subqueries, and other advanced SQL techniques.</p><h2 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="introduction-to-olap-engines">Introduction to OLAP Engines<a href="#introduction-to-olap-engines" class="hash-link" aria-label="Direct link to Introduction to OLAP Engines" title="Direct link to Introduction to OLAP Engines">​</a></h2><p>ClickHouse, Doris, Presto, and ByConity are currently popular open-source OLAP engines known for their high performance and scalability.</p><ul><li>ClickHouse is a column-based database management system developed by Yandex, a Russian search engine company. It focuses on fast query and analysis of large-scale data.</li><li>Doris is a distributed column-based storage and analysis system that supports real-time query and analysis and can integrate with big data technologies such as Hadoop, Spark, and Flink.</li><li>Presto is a distributed SQL query engine developed by Facebook that enables fast query and analysis on large-scale datasets.</li><li>ByConity is a cloud-native data warehouse open-sourced by ByteDance. It adopts a storage-compute separation architecture, achieves tenant resource isolation, elastic scaling, and strong consistency in data read and write. It supports mainstream OLAP engine optimization techniques and exhibits excellent read and write performance.</li></ul><p>This article will test the performance of these four OLAP engines using the 99 query statements from the TPC-DS benchmark test and compare their performance differences in different types of queries.</p><h2 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="test-environment-and-methodology">Test Environment and Methodology<a href="#test-environment-and-methodology" class="hash-link" aria-label="Direct link to Test Environment and Methodology" title="Direct link to Test Environment and Methodology">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="test-environment-configuration">Test Environment Configuration<a href="#test-environment-configuration" class="hash-link" aria-label="Direct link to Test Environment Configuration" title="Direct link to Test Environment Configuration">​</a></h3><ul><li><p><strong>Environment Configuration</strong></p><ul><li>Memory: 256GB</li><li>Disk: ATA, 7200rpm, partitioned:gpt</li><li>System: Linux 4.14.81.bm.30-amd64 x86_64, Debian GNU/Linux 9</li></ul></li><li><p><strong>Test Data Volume</strong></p><ul><li>Using 1TB of data tables, equivalent to 2.8 billion rows of data</li></ul></li></ul><table><thead><tr><th>Software Name</th><th>Version</th><th>Release Date</th><th>Number of Nodes</th><th>Other Configurations</th></tr></thead><tbody><tr><td>ClickHouse</td><td>23.4.1.1943</td><td>2023-04-26</td><td>5 Workers</td><td>distributed_product_mode = &#x27;global&#x27;, partial_merge_join_optimizations = 1</td></tr><tr><td>Doris</td><td>1.2.4.1</td><td>2023-04-27</td><td>5 BEs, 1 FE</td><td>Bucket configuration: Dimension table 1, returns table 10-20, sales table 100-200</td></tr><tr><td>Presto</td><td>0.28.0</td><td>2023-03-16</td><td>5 Workers, 1 Coordinator</td><td>Hive Catalog, ORC format, Xmx200GB, enable_optimizer=1, dialect_type=&#x27;ANSI&#x27;</td></tr><tr><td>ByConity</td><td>0.1.0-GA</td><td>2023-03-15</td><td>5 Workers</td><td>enable_optimizer=1, dialect_type=&#x27;ANSI&#x27;</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="server-configuration">Server Configuration<a href="#server-configuration" class="hash-link" aria-label="Direct link to Server Configuration" title="Direct link to Server Configuration">​</a></h3><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">Architecture:          x86_64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CPU op-mode(s):        32-bit, 64-bit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Byte Order:            Little Endian</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CPU(s):                48</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">On-line CPU(s) list:   0-47</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Thread(s) per core:    2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Core(s) per socket:    12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Socket(s):             2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NUMA node(s):          2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Vendor ID:             GenuineIntel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CPU family:            6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model:                 79</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model name:            Intel(R) Xeon(R) CPU E5-2650 v4 @ 2.20GHz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Stepping:              1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CPU MHz:               2494.435</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CPU max MHz:           2900.0000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CPU min MHz:           1200.0000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BogoMIPS:              4389.83</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Virtualization:        VT-x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">L1d cache:             32K</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">L1i cache:             32K</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">L2 cache:              256K</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">L3 cache:              30720K</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NUMA node0 CPU(s):     0-11,24-35</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NUMA node1 CPU(s):     12-23,36-47</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="test-methodology">Test Methodology<a href="#test-methodology" class="hash-link" aria-label="Direct link to Test Methodology" title="Direct link to Test Methodology">​</a></h3><ul><li>Use the 99 query statements from the TPC-DS benchmark test and 1TB (2.8 billion rows) of data to test the performance of the four OLAP engines.</li><li>Use the same test dataset in each engine and maintain the same configuration and hardware environment.</li><li>Execute each query multiple times and take the average value to reduce measurement errors, with a query timeout set to 500 seconds.</li><li>Record details of query execution, such as query execution plans, I/O and CPU usage.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="performance-test-results">Performance Test Results<a href="#performance-test-results" class="hash-link" aria-label="Direct link to Performance Test Results" title="Direct link to Performance Test Results">​</a></h2><p>We used the same dataset and hardware environment to test the performance of these four OLAP engines. The test dataset size is 1TB, and the hardware and software environments are as described above. We conducted three consecutive tests on each of the four OLAP engines using the 99 query statements from the TPC-DS benchmark test and took the average of the three results. Among them, ByConity successfully ran all 99 query tests. Doris crashed on SQL15 and had four timeouts, specifically SQL54, SQL67, SQL78, and SQL95. Presto had timeouts only on SQL67 and SQL72, while all other queries ran successfully. ClickHouse only ran 50% of the query statements, with some timing out and others reporting system errors. The analysis revealed that ClickHouse does not effectively support multi-table join queries, requiring manual rewriting and splitting of such SQL statements for execution. Therefore, we temporarily exclude ClickHouse from the comparison of total execution time. The total execution time for the TPC-DS tests of the other three OLAP engines is shown in Figure 1. As seen in Figure 1, the query performance of the open-source ByConity is significantly better than the other engines, approximately 3-4 times faster. (Note: The vertical axis units of all charts below are in seconds.)</p><p><img loading="lazy" alt="Figure 1: Total Execution Time for 99 Queries in TPC-DS" src="/assets/images/benchmark1-b501a6894b07e84ebbcbea991548633f.png" width="1280" height="780" class="img_astN"></p><p>Based on the 99 query statements from the TPC-DS benchmark test, we will categorize them according to different query scenarios, such as basic queries, join queries, aggregation queries, subqueries, and window function queries. We will use these categories to analyze and compare the performance of ClickHouse, Doris, Presto, and ByConity:</p><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="basic-query-scenario">Basic Query Scenario<a href="#basic-query-scenario" class="hash-link" aria-label="Direct link to Basic Query Scenario" title="Direct link to Basic Query Scenario">​</a></h3><p>This scenario involves simple query operations, such as retrieving data from a single table, filtering, and sorting results. The performance test of basic queries mainly focuses on the ability to process individual queries. Among them, ByConity performs best, with Presto and Doris also showing good performance. This is because basic queries usually involve only a small number of tables and fields, allowing Presto and Doris to fully utilize their distributed query features and in-memory computing capabilities. ClickHouse struggles with multi-table joins, resulting in some queries timing out. Specifically, SQL5, 8, 11, 13, 14, 17, and 18 all timed out. We calculated these timeouts as 500 seconds but truncated them to 350 seconds for clearer display. Figure 2 shows the average query time for the four engines in the basic query scenario:</p><p><img loading="lazy" alt="Figure 2: Performance Comparison of Basic Queries in TPC-DS" src="/assets/images/benchmark2-00a78c3b1d2b94ce8eb03ecc0f3f506a.png" width="1280" height="788" class="img_astN"></p><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="join-query-scenario">Join Query Scenario<a href="#join-query-scenario" class="hash-link" aria-label="Direct link to Join Query Scenario" title="Direct link to Join Query Scenario">​</a></h3><p>Join queries are common multi-table query scenarios that typically use JOIN statements to connect multiple tables and retrieve data based on specified conditions. As seen in Figure 3, ByConity performs best, mainly due to its optimized query optimizer, which introduces cost-based optimization capabilities (CBO) and performs optimization operations such as re-ordering during multi-table joins. Presto and Doris follow closely behind, while ClickHouse performs relatively poorly in multi-table joins and does not support many complex statements well.</p><p><img loading="lazy" alt="Figure 3: Performance Comparison of Join Queries in TPC-DS" src="/assets/images/benchmark3-1acbfa4ea42175c44667256a6ced5206.png" width="1280" height="787" class="img_astN"></p><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="aggregation-query-scenario">Aggregation Query Scenario<a href="#aggregation-query-scenario" class="hash-link" aria-label="Direct link to Aggregation Query Scenario" title="Direct link to Aggregation Query Scenario">​</a></h3><p>Aggregation queries involve statistical calculations on data, such as testing the use of aggregate functions like SUM, AVG, COUNT. ByConity continues to perform exceptionally well, followed by Doris and Presto. ClickHouse experienced four timeouts. To facilitate comparison, we truncated the timeout value to 250 seconds.</p><p><img loading="lazy" alt="Figure 4: Performance Comparison of Aggregation Queries in TPC-DS" src="/assets/images/benchmark4-fb103d3e66cdefc5d8dd4e5cff4388e0.png" width="1280" height="787" class="img_astN"></p><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="subquery-scenario">Subquery Scenario<a href="#subquery-scenario" class="hash-link" aria-label="Direct link to Subquery Scenario" title="Direct link to Subquery Scenario">​</a></h3><p>Subqueries are nested within SQL statements and often serve as conditions or constraints for the main query. As shown in Figure 5, ByConity performs best due to its rule-based optimization (RBO) capabilities. ByConity optimizes complex nested queries holistically through techniques like operator pushdown, column pruning, and partition pruning, eliminating all subqueries and transforming common operators into Join+Agg formats. Doris and Presto also perform relatively well, but Presto experienced timeouts on SQL68 and SQL73, and Doris experienced timeouts on three SQL queries. ClickHouse also had some timeouts and system errors, as mentioned earlier. For easier comparison, we truncated the timeout value to 250 seconds.</p><p><img loading="lazy" alt="Figure 5: Performance Comparison of Subqueries in TPC-DS" src="/assets/images/benchmark5-0ae53bb8245ec87a9ac998d1b0b5614f.png" width="1280" height="796" class="img_astN"></p><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="window-function-query-scenario">Window Function Query Scenario<a href="#window-function-query-scenario" class="hash-link" aria-label="Direct link to Window Function Query Scenario" title="Direct link to Window Function Query Scenario">​</a></h3><p>Window function queries are advanced SQL query scenarios that enable ranking, grouping, sorting, and other operations within query results. As shown in Figure 6, ByConity exhibits the best performance, followed by Presto. Doris experienced a single timeout, and ClickHouse still had some TPC-DS tests that did not complete successfully.</p><p><img loading="lazy" alt="Figure 6: Performance Comparison of Window Function Queries in TPC-DS" src="/assets/images/benchmark6-334f3bbe8cdd726ae7f6131839b71d43.png" width="1280" height="792" class="img_astN"></p><h2 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2><p>This article analyzes and compares the performance of four OLAP engines - ClickHouse, Doris, Presto, and ByConity - using the 99 query statements from the TPC-DS benchmark test. We found that the performance of the four engines varies under different query scenarios. ByConity performs exceptionally well in all 99 TPC-DS query scenarios, surpassing the other three OLAP engines. Presto and Doris perform relatively well in join queries, aggregation queries, and window function queries. However, ClickHouse&#x27;s design and implementation are not specifically optimized for join queries, resulting in subpar performance in multi-table join scenarios.</p><p>It is important to note that performance test results depend on multiple factors, including data structure, query type, and data model. In practical applications, it is necessary to consider various factors comprehensively to select the most suitable OLAP engine.</p><p>When selecting an OLAP engine, other factors such as scalability, usability, and stability should also be considered. In practical applications, it is essential to select based on specific business needs and configure and optimize the engine reasonably to achieve optimal performance.</p><p>In summary, ClickHouse, Doris, Presto, and ByConity are all excellent OLAP engines with different strengths and applicable scenarios. In practical applications, it is necessary to select based on specific business needs and configure and optimize the engine reasonably to achieve optimal performance. At the same time, it is essential to select representative query scenarios and datasets and conduct testing and analysis for different query scenarios to comprehensively evaluate the engine&#x27;s performance.</p><h2 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="join-us">Join Us<a href="#join-us" class="hash-link" aria-label="Direct link to Join Us" title="Direct link to Join Us">​</a></h2><p>The ByConity community has a large number of users and is a very open community. We invite everyone to discuss and contribute together. We have established an issue on Github: <a href="https://github.com/ByConity/ByConity/issues/26" target="_blank" rel="noopener noreferrer">https://github.com/ByConity/ByConity/issues/26</a>. You can also join our Feishu group, Slack, or Discord to participate in the discussion.</p><p><img loading="lazy" src="/assets/images/benchmark7-14e580dc14c6dfd29f801716c262ad3b.png" width="900" height="400" class="img_astN"></p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_Vbb7"><div class="col"><b>Tags:</b><ul class="tags_HAaO padding--none margin-left--sm"><li class="tag_Ut5_"><a class="tag_sQub tagRegular_dfhI" href="/blog/tags/video-introduction">video introduction</a></li><li class="tag_Ut5_"><a class="tag_sQub tagRegular_dfhI" href="/blog/tags/docusaurus">docusaurus</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/ByConity/byconity.github.io/tree/main/blog/2023-07-21-byconity-benchmark/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_O9Og" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/byconity-elt"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Detailed Explanation of ByConity ELT Principles</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2023-05-24-byconity-announcement-opensources-its-cloudnative-data-warehouse"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">ByteDance Open Sources Its Cloud Native Data Warehouse ByConity</div></a></nav></main><div class="col col--2"><div class="tableOfContents_Q7NC thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#introduction-to-tpc-ds-benchmark-test" class="table-of-contents__link toc-highlight">Introduction to TPC-DS Benchmark Test</a></li><li><a href="#introduction-to-olap-engines" class="table-of-contents__link toc-highlight">Introduction to OLAP Engines</a></li><li><a href="#test-environment-and-methodology" class="table-of-contents__link toc-highlight">Test Environment and Methodology</a><ul><li><a href="#test-environment-configuration" class="table-of-contents__link toc-highlight">Test Environment Configuration</a></li><li><a href="#server-configuration" class="table-of-contents__link toc-highlight">Server Configuration</a></li><li><a href="#test-methodology" class="table-of-contents__link toc-highlight">Test Methodology</a></li></ul></li><li><a href="#performance-test-results" class="table-of-contents__link toc-highlight">Performance Test Results</a><ul><li><a href="#basic-query-scenario" class="table-of-contents__link toc-highlight">Basic Query Scenario</a></li><li><a href="#join-query-scenario" class="table-of-contents__link toc-highlight">Join Query Scenario</a></li><li><a href="#aggregation-query-scenario" class="table-of-contents__link toc-highlight">Aggregation Query Scenario</a></li><li><a href="#subquery-scenario" class="table-of-contents__link toc-highlight">Subquery Scenario</a></li><li><a href="#window-function-query-scenario" class="table-of-contents__link toc-highlight">Window Function Query Scenario</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li><li><a href="#join-us" class="table-of-contents__link toc-highlight">Join Us</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row"><div class="col col--3"><img src="/img/footer-logo.svg" alt="ByConity" class="themedImage_DeRy themedImage--light_hbln footer__logo"><img src="/img/footer-logo.svg" alt="ByConity" class="themedImage_DeRy themedImage--dark_qgR1 footer__logo"></div><div class="col"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/main-principle-concepts">Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community">Community</a></li><li class="footer__item"><a class="footer__link-item" href="/users">Users</a></li><li class="footer__item"><a href="https://space.bilibili.com/2065226922?spm_id_from=333.1007.0.0" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bilibili<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_LBPb"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/ByConity/ByConity" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_LBPb"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 ByteDance.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.adc211c6.js"></script>
<script src="/assets/js/main.8d48683e.js"></script>
</body>
</html>