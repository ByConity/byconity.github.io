<!doctype html>
<html lang="zh-cn" dir="ltr" class="docs-wrapper docs-doc-page docs-version-0.2.0 plugin-docs plugin-id-default docs-doc-id-deployment/deploy-k8s">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">åœ¨ Kubernetes ä¸Šéƒ¨ç½² ByConity | ByConity</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://byconity.github.io/zh-cn/img/byconity-social-card.png"><meta data-rh="true" name="twitter:image" content="https://byconity.github.io/zh-cn/img/byconity-social-card.png"><meta data-rh="true" property="og:url" content="https://byconity.github.io/zh-cn/docs/deployment/deploy-k8s"><meta data-rh="true" name="docusaurus_locale" content="zh-cn"><meta data-rh="true" name="docsearch:language" content="zh-cn"><meta data-rh="true" name="docusaurus_version" content="0.2.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-0.2.0"><meta data-rh="true" name="docsearch:version" content="0.2.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-0.2.0"><meta data-rh="true" property="og:title" content="åœ¨ Kubernetes ä¸Šéƒ¨ç½² ByConity | ByConity"><meta data-rh="true" name="description" content="æœ¬æ–‡æ¼”ç¤ºäº†å¦‚ä½•åœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½² ByConity é›†ç¾¤ã€‚"><meta data-rh="true" property="og:description" content="æœ¬æ–‡æ¼”ç¤ºäº†å¦‚ä½•åœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½² ByConity é›†ç¾¤ã€‚"><link data-rh="true" rel="icon" href="/zh-cn/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://byconity.github.io/zh-cn/docs/deployment/deploy-k8s"><link data-rh="true" rel="alternate" href="https://byconity.github.io/docs/deployment/deploy-k8s" hreflang="en"><link data-rh="true" rel="alternate" href="https://byconity.github.io/zh-cn/docs/deployment/deploy-k8s" hreflang="zh-cn"><link data-rh="true" rel="alternate" href="https://byconity.github.io/docs/deployment/deploy-k8s" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://Y8UJSN6KEB-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/zh-cn/blog/rss.xml" title="ByConity RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-cn/blog/atom.xml" title="ByConity Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BYY7CCPJZ6"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-BYY7CCPJZ6",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="ByConity" href="/zh-cn/opensearch.xml"><link rel="stylesheet" href="/zh-cn/assets/css/styles.d2f68745.css">
<link rel="preload" href="/zh-cn/assets/js/runtime~main.1d1e7260.js" as="script">
<link rel="preload" href="/zh-cn/assets/js/main.add246ce.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="è·³åˆ°ä¸»è¦å†…å®¹"><a class="skipToContent_Rzz1" href="#docusaurus_skipToContent_fallback">è·³åˆ°ä¸»è¦å†…å®¹</a></div><nav aria-label="ä¸»å¯¼èˆª" class="navbar navbar--fixed-top navbarHideable_hfek"><div class="navbar__inner"><div class="navbar__items"><button aria-label="åˆ‡æ¢å¯¼èˆªæ " aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-cn/"><div class="navbar__logo"><img src="/zh-cn/img/logo.png" alt="ByConity Logo" class="themedImage_DeRy themedImage--light_hbln"><img src="/zh-cn/img/logo.png" alt="ByConity Logo" class="themedImage_DeRy themedImage--dark_qgR1"></div><b class="navbar__title text--truncate">ByConity</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh-cn/docs/introduction/main-principle-concepts">æ–‡æ¡£</a><a class="navbar__item navbar__link" href="/zh-cn/blog">åšå®¢</a><a class="navbar__item navbar__link" href="/zh-cn/community">ç¤¾åŒº</a><a class="navbar__item navbar__link" href="/zh-cn/users">ç”¨æˆ·</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/zh-cn/docs/introduction/main-principle-concepts">0.2.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/zh-cn/docs/next/deployment/deploy-k8s">0.3.0 ğŸš§</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/zh-cn/docs/deployment/deploy-k8s">0.2.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">ä¸­æ–‡ï¼ˆä¸­å›½ï¼‰</a><ul class="dropdown__menu"><li><a href="/docs/deployment/deploy-k8s" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh-cn/docs/deployment/deploy-k8s" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-cn">ä¸­æ–‡ï¼ˆä¸­å›½ï¼‰</a></li></ul></div><a href="https://github.com/ByConity/ByConity" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"><span>GitHub</span></a><div class="searchBox_mmj0"><button type="button" class="DocSearch DocSearch-Button" aria-label="æœç´¢"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">æœç´¢</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_NWrx docsWrapper_oNqO"><button aria-label="å›åˆ°é¡¶éƒ¨" class="clean-btn theme-back-to-top-button backToTopButton_LsNq" type="button"></button><div class="docPage_fHU4"><aside class="theme-doc-sidebar-container docSidebarContainer_jEGB"><div class="sidebarViewport_Gc0S"><div class="sidebar_uCr1 sidebarWithHideableNavbar_P_fD"><a tabindex="-1" class="sidebarLogo_XXeG" href="/zh-cn/"><img src="/zh-cn/img/logo.png" alt="ByConity Logo" class="themedImage_DeRy themedImage--light_hbln"><img src="/zh-cn/img/logo.png" alt="ByConity Logo" class="themedImage_DeRy themedImage--dark_qgR1"><b>ByConity</b></a><nav aria-label="æ–‡æ¡£ä¾§è¾¹æ " class="menu thin-scrollbar menu_s63m"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-cn/docs/introduction/main-principle-concepts">ByConityç®€ä»‹</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-cn/docs/quick-start/basic-database-operations">å¿«é€Ÿä¸Šæ‰‹</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-cn/docs/sql-syntax/ansi-compatibility">SQLè¯­æ³•è¯´æ˜</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-cn/docs/basic-guide/background-task-management">åŸºç¡€ä½¿ç”¨æ‰‹å†Œ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-cn/docs/advanced-guide/0.2.0_s3_upgrade_checklist">é«˜çº§ç”¨æˆ·æ‰‹å†Œ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-cn/docs/community/become-maintainer">å‚ä¸ç¤¾åŒº</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/zh-cn/docs/deployment/deployment-requirements">éƒ¨ç½²</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/docs/deployment/deployment-requirements">éƒ¨ç½²è¦æ±‚</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh-cn/docs/deployment/deploy-k8s">åœ¨ Kubernetes ä¸Šéƒ¨ç½² ByConity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/docs/deployment/package-deployment">è½¯ä»¶åŒ…éƒ¨ç½²</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/docs/deployment/docker-wrapper">ä½¿ç”¨ docker wrapper å°† ByConity éƒ¨ç½²åˆ°ç‰©ç†æœåŠ¡å™¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/docs/deployment/foundationdb-installation">å®‰è£… FoundationDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-cn/docs/deployment/hdfs-installation">å®‰è£… HDFS</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-cn/docs/benchmarks/2023-09-13-byconity-tpcds-benchmark-olap/2023-09-13-byconity-vs-other-olap-engines-tpc-ds-benchmarks">æ€§èƒ½æµ‹è¯•</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_b8RI"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_QMJw"><div class="docItemContainer_EkDS"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_dvLu" aria-label="é¡µé¢è·¯å¾„"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ä¸»é¡µé¢" class="breadcrumbs__link" href="/zh-cn/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_ObZR"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">éƒ¨ç½²</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">åœ¨ Kubernetes ä¸Šéƒ¨ç½² ByConity</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">ç‰ˆæœ¬ï¼š0.2.0</span><div class="tocCollapsible_Iw4v theme-doc-toc-mobile tocMobile_L4iJ"><button type="button" class="clean-btn tocCollapsibleButton_Omde">æœ¬é¡µæ€»è§ˆ</button></div><div class="theme-doc-markdown markdown"><h1>åœ¨ Kubernetes ä¸Šéƒ¨ç½² ByConity</h1><p>æœ¬æ–‡æ¼”ç¤ºäº†å¦‚ä½•åœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½² ByConity é›†ç¾¤ã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="æœ¬åœ°éƒ¨ç½²ä¸€ä¸ª-demo">æœ¬åœ°éƒ¨ç½²ä¸€ä¸ª demo<a href="#æœ¬åœ°éƒ¨ç½²ä¸€ä¸ª-demo" class="hash-link" aria-label="æœ¬åœ°éƒ¨ç½²ä¸€ä¸ª demoçš„ç›´æ¥é“¾æ¥" title="æœ¬åœ°éƒ¨ç½²ä¸€ä¸ª demoçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Prerequisitesçš„ç›´æ¥é“¾æ¥" title="Prerequisitesçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><ul><li>åœ¨æœ¬åœ°ç¯å¢ƒä¸­å®‰è£…å’Œè®¾ç½® <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/" target="_blank" rel="noopener noreferrer">kubectl</a></li><li>åœ¨æœ¬åœ°ç¯å¢ƒä¸­å®‰è£… <a href="https://helm.sh/" target="_blank" rel="noopener noreferrer">helm</a></li><li>å®‰è£…<a href="https://kind.sigs.k8s.io/" target="_blank" rel="noopener noreferrer">kind</a>å’Œ<a href="https://www.docker.com/" target="_blank" rel="noopener noreferrer">Docker</a></li><li>ç­¾å‡º conity-deploy ä»£ç æŸ¥çœ‹</li></ul><div class="language-bash codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-bash codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone git@github.com:ByConity/byconity-deploy.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> byconity-deploy</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="ä½¿ç”¨-kind-é…ç½®æœ¬åœ°-kubernetes-é›†ç¾¤">ä½¿ç”¨ Kind é…ç½®æœ¬åœ° Kubernetes é›†ç¾¤<a href="#ä½¿ç”¨-kind-é…ç½®æœ¬åœ°-kubernetes-é›†ç¾¤" class="hash-link" aria-label="ä½¿ç”¨ Kind é…ç½®æœ¬åœ° Kubernetes é›†ç¾¤çš„ç›´æ¥é“¾æ¥" title="ä½¿ç”¨ Kind é…ç½®æœ¬åœ° Kubernetes é›†ç¾¤çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><blockquote><p>è­¦å‘Šï¼šKind ä¸æ˜¯ä¸ºç”Ÿäº§ç”¨é€”è€Œè®¾è®¡çš„ã€‚
macOS ç”¨æˆ·è¯·æ³¨æ„ï¼šæ‚¨å¯èƒ½éœ€è¦å¢åŠ å®¹å™¨çš„<a href="https://docs.docker.com/desktop/get-started/#resources" target="_blank" rel="noopener noreferrer">å¯ç”¨å†…å­˜</a>ï¼ˆå»ºè®® 6 GBï¼‰ã€‚</p></blockquote><p>è¿™å°†åˆ›å»ºä¸€ä¸ª 1-control-planeã€3-worker çš„ Kubernetes é›†ç¾¤ã€‚</p><div class="language-bash codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-bash codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">kind create cluster --config examples/kind/kind-byconity.yaml</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æµ‹è¯•ä»¥ç¡®ä¿æœ¬åœ° kind é›†ç¾¤å·²å‡†å¤‡å°±ç»ªï¼š</p><div class="language-bash codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-bash codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl cluster-info</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="åˆå§‹åŒ–-byconity-æ¼”ç¤ºé›†ç¾¤">åˆå§‹åŒ– Byconity æ¼”ç¤ºé›†ç¾¤<a href="#åˆå§‹åŒ–-byconity-æ¼”ç¤ºé›†ç¾¤" class="hash-link" aria-label="åˆå§‹åŒ– Byconity æ¼”ç¤ºé›†ç¾¤çš„ç›´æ¥é“¾æ¥" title="åˆå§‹åŒ– Byconity æ¼”ç¤ºé›†ç¾¤çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><div class="language-bash codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-bash codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Install with fdb CRD first</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm upgrade --install --create-namespace --namespace byconity -f ./examples/kind/values-kind.yaml byconity ./chart/byconity --set fdb.enabled</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Install with fdb cluster</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm upgrade --install --create-namespace --namespace byconity -f ./examples/kind/values-kind.yaml byconity ./chart/byconity</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç­‰åˆ°æ‰€æœ‰ Pod å‡†å¤‡å°±ç»ªã€‚</p><div class="language-bash codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-bash codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl -n byconity get po</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è®©æˆ‘ä»¬è¯•è¯•å§ï¼</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl -n byconity exec -it sts/byconity-server -- bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@byconity-server-0:/# clickhouse client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">172.16.1.1 :)</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="ä»-kubernetes-é›†ç¾¤ä¸­åˆ é™¤æˆ–åœæ­¢-byconity">ä» Kubernetes é›†ç¾¤ä¸­åˆ é™¤æˆ–åœæ­¢ ByConity<a href="#ä»-kubernetes-é›†ç¾¤ä¸­åˆ é™¤æˆ–åœæ­¢-byconity" class="hash-link" aria-label="ä» Kubernetes é›†ç¾¤ä¸­åˆ é™¤æˆ–åœæ­¢ ByConityçš„ç›´æ¥é“¾æ¥" title="ä» Kubernetes é›†ç¾¤ä¸­åˆ é™¤æˆ–åœæ­¢ ByConityçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><div class="language-bash codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-bash codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">helm uninstall --namespace byconity byconity</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¦‚æœæ‚¨æƒ³æš‚æ—¶åœæ­¢å®ƒï¼Œè¯·åœ¨æ‚¨çš„æœºå™¨ä¸Šåœæ­¢å®ƒ</p><div class="language-bash codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-bash codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> stop byconity-cluster-control-plane byconity-cluster-worker byconity-cluster-worker2 byconity-cluster-worker3</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="éƒ¨ç½²åœ¨æ‚¨è‡ªå»ºçš„-kubernetes-ä¸­">éƒ¨ç½²åœ¨æ‚¨è‡ªå»ºçš„ Kubernetes ä¸­<a href="#éƒ¨ç½²åœ¨æ‚¨è‡ªå»ºçš„-kubernetes-ä¸­" class="hash-link" aria-label="éƒ¨ç½²åœ¨æ‚¨è‡ªå»ºçš„ Kubernetes ä¸­çš„ç›´æ¥é“¾æ¥" title="éƒ¨ç½²åœ¨æ‚¨è‡ªå»ºçš„ Kubernetes ä¸­çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="å¦‚ä½•éƒ¨ç½²æˆ–è´­ä¹°-kubernetes-é›†ç¾¤">å¦‚ä½•éƒ¨ç½²æˆ–è´­ä¹° Kubernetes é›†ç¾¤ï¼Ÿ<a href="#å¦‚ä½•éƒ¨ç½²æˆ–è´­ä¹°-kubernetes-é›†ç¾¤" class="hash-link" aria-label="å¦‚ä½•éƒ¨ç½²æˆ–è´­ä¹° Kubernetes é›†ç¾¤ï¼Ÿçš„ç›´æ¥é“¾æ¥" title="å¦‚ä½•éƒ¨ç½²æˆ–è´­ä¹° Kubernetes é›†ç¾¤ï¼Ÿçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>æ‚¨å¯ä»¥åœ¨è¿™é‡Œè·å–ä¿¡æ¯ï¼š<a href="https://kubernetes.io/docs/setup/production-environment/" target="_blank" rel="noopener noreferrer">ç”Ÿäº§ç¯å¢ƒ</a></p><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="å…ˆå†³æ¡ä»¶">å…ˆå†³æ¡ä»¶<a href="#å…ˆå†³æ¡ä»¶" class="hash-link" aria-label="å…ˆå†³æ¡ä»¶çš„ç›´æ¥é“¾æ¥" title="å…ˆå†³æ¡ä»¶çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><ul><li>åœ¨æœ¬åœ°ç¯å¢ƒä¸­å®‰è£…å’Œè®¾ç½® <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/" target="_blank" rel="noopener noreferrer">kubectl</a></li><li>åœ¨æœ¬åœ°ç¯å¢ƒä¸­å®‰è£… <a href="https://helm.sh/" target="_blank" rel="noopener noreferrer">helm</a></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="å‡†å¤‡æ‚¨çš„å­˜å‚¨">å‡†å¤‡æ‚¨çš„å­˜å‚¨<a href="#å‡†å¤‡æ‚¨çš„å­˜å‚¨" class="hash-link" aria-label="å‡†å¤‡æ‚¨çš„å­˜å‚¨çš„ç›´æ¥é“¾æ¥" title="å‡†å¤‡æ‚¨çš„å­˜å‚¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>ä¸ºäº†è·å¾—æœ€ä½³çš„ <a href="https://en.wikipedia.org/wiki/Total_cost_of_ownership" target="_blank" rel="noopener noreferrer">TCO</a> å’Œæ€§èƒ½ï¼Œæœ¬åœ°ç£ç›˜æœ€å¥½ä¸ ByConity server å’Œ worker ä¸€èµ·ä½¿ç”¨ã€‚</p><blockquote><p>ByConity server å’Œ worker çš„å­˜å‚¨ä»…ç”¨äºç£ç›˜ç¼“å­˜ï¼Œæ‚¨å¯ä»¥éšæ—¶åˆ é™¤å®ƒä»¬ã€‚</p></blockquote><p>æ‚¨å¯ä»¥ä½¿ç”¨ <a href="https://openebs.io/docs/concepts/localpv" target="_blank" rel="noopener noreferrer">OpenEBS local PV</a> ç­‰å­˜å‚¨.</p><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="å‡†å¤‡ä½ è‡ªå·±çš„-helm-å€¼æ–‡ä»¶">å‡†å¤‡ä½ è‡ªå·±çš„ helm å€¼æ–‡ä»¶<a href="#å‡†å¤‡ä½ è‡ªå·±çš„-helm-å€¼æ–‡ä»¶" class="hash-link" aria-label="å‡†å¤‡ä½ è‡ªå·±çš„ helm å€¼æ–‡ä»¶çš„ç›´æ¥é“¾æ¥" title="å‡†å¤‡ä½ è‡ªå·±çš„ helm å€¼æ–‡ä»¶çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>æ‚¨å¯ä»¥ä» ./chart/byconity/values.yaml å¤åˆ¶å¹¶ä¿®æ”¹ä¸€äº›å­—æ®µï¼Œä¾‹å¦‚ï¼š</p><ul><li><p>å­˜å‚¨ç±»å</p></li><li><p>æ—¶åŒº</p></li><li><p>æœåŠ¡å™¨/å·¥äººçš„å‰¯æœ¬</p></li><li><p>hdfs å­˜å‚¨è¯·æ±‚</p><p>å¦‚æœæ‚¨æƒ³ä½¿ç”¨è‡ªå·±ç°æœ‰çš„ HDFS é›†ç¾¤ï¼Œè¯·å°† hdfs.enabled è®¾ç½®ä¸º trueã€‚æ‚¨å¯ä»¥åœ¨ values.yaml ä¸­è¦†ç›– HDFS çš„é…ç½®</p></li></ul><div class="language-dash codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-dash codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">byconity:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  hdfs_address: hdfs://your own hdfs:port</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hdfs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  enabled: false</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>fdb configuration</p><p>å¦‚æœæ‚¨æƒ³ä½¿ç”¨è‡ªå·±çš„ FDBï¼Œè¯·å°† fdb.enabled å’Œ fdb-operator.enabled éƒ½è®¾ç½®ä¸º falseã€‚æ‚¨å¯ä»¥å‚è€ƒ values_use_existing_fdb.yaml è¿›è¡Œé…ç½®</p></li></ul><div class="language-dash codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-dash codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">byconity:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  hdfs_address: hdfs://byconity-hdfs-namenodes:8020 # can using your own hdfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  use_existing_fdb: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fdb_cluster_file: your fdb-cluster-file content. #byconity_fdb:Is0hBgl6iICdHuspBmhAODmD5WISXKzI@192.168.224.150:4501,192.168.226.83:4501,192.168.228.152:4501</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fdb:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  enabled: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fdb-operator:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  enabled: false</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="åˆå§‹åŒ–-byconity-é›†ç¾¤">åˆå§‹åŒ– Byconity é›†ç¾¤<a href="#åˆå§‹åŒ–-byconity-é›†ç¾¤" class="hash-link" aria-label="åˆå§‹åŒ– Byconity é›†ç¾¤çš„ç›´æ¥é“¾æ¥" title="åˆå§‹åŒ– Byconity é›†ç¾¤çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><div class="language-bash codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-bash codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Install with fdb CRD first</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm upgrade --install --create-namespace --namespace byconity -f ./your/custom/values.yaml byconity ./chart/byconity --set fdb.enabled</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Install with fdb cluster</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm upgrade --install --create-namespace --namespace byconity -f ./your/custom/values.yaml byconity ./chart/byconity</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç­‰åˆ°æ‰€æœ‰ Pod å‡†å¤‡å°±ç»ªã€‚</p><div class="language-bash codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-bash codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl -n byconity get po</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è®©æˆ‘ä»¬è¯•è¯•å§ï¼</p><div class="codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-text codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl -n byconity exec -it sts/byconity-server -- bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@byconity-server-0:/# clickhouse client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">172.16.1.1 :)</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="æµ‹è¯•">æµ‹è¯•<a href="#æµ‹è¯•" class="hash-link" aria-label="æµ‹è¯•çš„ç›´æ¥é“¾æ¥" title="æµ‹è¯•çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="è¿è¡Œä¸€äº›-sql-æ¥æµ‹è¯•">è¿è¡Œä¸€äº› SQL æ¥æµ‹è¯•<a href="#è¿è¡Œä¸€äº›-sql-æ¥æµ‹è¯•" class="hash-link" aria-label="è¿è¡Œä¸€äº› SQL æ¥æµ‹è¯•çš„ç›´æ¥é“¾æ¥" title="è¿è¡Œä¸€äº› SQL æ¥æµ‹è¯•çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><div class="language-sql codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-sql codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DATABASE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IF</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">EXISTS</span><span class="token plain"> test</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">USE</span><span class="token plain"> test</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">DROP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IF</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">EXISTS</span><span class="token plain"> test</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lc</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> test</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lc </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b LowCardinality</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">String</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">engine</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">CnchMergeTree </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTO</span><span class="token plain"> test</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lc </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;0123456789&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">100000000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> test</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lc </span><span class="token keyword" style="color:#00009f">group</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">DROP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IF</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">EXISTS</span><span class="token plain"> test</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lc</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">DROP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DATABASE</span><span class="token plain"> test</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="æ›´æ–°æ‚¨çš„-byconity-é›†ç¾¤">æ›´æ–°æ‚¨çš„ Byconity é›†ç¾¤<a href="#æ›´æ–°æ‚¨çš„-byconity-é›†ç¾¤" class="hash-link" aria-label="æ›´æ–°æ‚¨çš„ Byconity é›†ç¾¤çš„ç›´æ¥é“¾æ¥" title="æ›´æ–°æ‚¨çš„ Byconity é›†ç¾¤çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="æ·»åŠ æ–°çš„è™šæ‹Ÿæ•°æ®ä»“åº“">æ·»åŠ æ–°çš„è™šæ‹Ÿæ•°æ®ä»“åº“<a href="#æ·»åŠ æ–°çš„è™šæ‹Ÿæ•°æ®ä»“åº“" class="hash-link" aria-label="æ·»åŠ æ–°çš„è™šæ‹Ÿæ•°æ®ä»“åº“çš„ç›´æ¥é“¾æ¥" title="æ·»åŠ æ–°çš„è™šæ‹Ÿæ•°æ®ä»“åº“çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>å‡è®¾æ‚¨è¦ä¸ºæ‚¨çš„ç”¨æˆ·æ·»åŠ  2 ä¸ªè™šæ‹Ÿæ•°æ®ä»“åº“ï¼Œ5 ä¸ªå‰¯æœ¬ç”¨äº my-new-vw-default è¯»å–ï¼Œ2 ä¸ªå‰¯æœ¬ç”¨äº my-new-vw-write å†™å…¥ã€‚</p><p>ä¿®æ”¹ä½ çš„ values.yaml</p><div class="language-yaml codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-yaml codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">byconity</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">virtualWarehouses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">&lt;&lt;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token important">*defaultWorker</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">new</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">vw</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">&lt;&lt;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token important">*defaultWorker</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">new</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">vw</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">write</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä½¿ç”¨æ–°å€¼åº”ç”¨ helm ç‰ˆæœ¬</p><div class="language-bash codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-bash codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">helm upgrade --install --create-namespace --namespace byconity -f ./your/custom/values.yaml byconity ./chart/byconity</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è¿è¡Œ<code>CREATE WAREHOUSE</code> æ•°æ®å®šä¹‰è¯­è¨€ åœ¨ Byconity åˆ›å»ºé€»è¾‘è™šæ‹Ÿä»“åº“</p><div class="language-sql codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-sql codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> WAREHOUSE </span><span class="token keyword" style="color:#00009f">IF</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">EXISTS</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">my-new-vw-default</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token plain"> SETTINGS num_workers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Read&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> WAREHOUSE </span><span class="token keyword" style="color:#00009f">IF</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">EXISTS</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">my-new-vw-write</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token plain"> SETTINGS num_workers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Write&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å®Œæ¯•ã€‚ç°åœ¨è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè¡¨å¹¶ä½¿ç”¨æ‚¨çš„æ–°è™šæ‹Ÿæ•°æ®ä»“åº“ï¼</p><div class="language-sql codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-sql codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Create a table with SETTINGS cnch_vw_default = &#x27;my-new-vw-default&#x27;, cnch_vw_write = &#x27;my-new-vw-write&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DATABASE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IF</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">EXISTS</span><span class="token plain"> test</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> test</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lc2 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b LowCardinality</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">String</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">engine</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">CnchMergeTree</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SETTINGS cnch_vw_default </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;my-new-vw-default&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cnch_vw_write </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;my-new-vw-write&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Check if the table has the new settings</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SHOW</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> test</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lc2</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="åœ¨åŸæœ‰çš„-virtualwarehouse-æ‰©ç¼©å®¹">åœ¨åŸæœ‰çš„ VirtualWareHouse æ‰©ç¼©å®¹<a href="#åœ¨åŸæœ‰çš„-virtualwarehouse-æ‰©ç¼©å®¹" class="hash-link" aria-label="åœ¨åŸæœ‰çš„ VirtualWareHouse æ‰©ç¼©å®¹çš„ç›´æ¥é“¾æ¥" title="åœ¨åŸæœ‰çš„ VirtualWareHouse æ‰©ç¼©å®¹çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>å‡è®¾æ‚¨æœ‰ä¸€ä¸ª my-new-vw-defaultï¼Œå¸Œæœ›æ‰©å®¹å¢åŠ  2 ä¸ª workerï¼Œå¯ä»¥ç›´æ¥æ›´æ–° Kubernetes çš„èµ„æºå¯¹è±¡ statefulsetï¼š</p><p>é¦–å…ˆä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œè·å–å½“å‰ Kubernetes é›†ç¾¤ä¸­æ‰€æœ‰ StatefulSet èµ„æºçš„åç§°</p><div class="language-bash codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-bash codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get statefulset</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç„¶åï¼Œæ‰¾åˆ°å¹¶æ‰“å¼€è¯¥é…ç½®ï¼Œåšå¦‚ä¸‹ä¿®æ”¹</p><div class="language-bash codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-bash codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl edit statefulset.apps/my-new-vw-default</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æŠŠé…ç½®&quot;replicas: 1&quot; å˜æ›´ä¸º &quot;replicas: 2&quot;</p><div class="language-yaml codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-yaml codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">podManagementPolicy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> OrderedReady</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#ç”±1å˜æ›´ä¸º2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">revisionHistoryLimit</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> byconity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> byconity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">byconity-role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">byconity-vw</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> vw_default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">serviceName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">new</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">vw</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">default</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ›´æ–°å®Œåä½¿ç”¨ kubectl å¯ä»¥æŸ¥çœ‹ VirtualWarehouse å·²ç»æ‰©å®¹åŒ…å« 2 ä¸ª woker</p><h2 class="anchor anchorWithHideOnScrollNavbar_l3HI" id="é…ç½®-byconity-é«˜å¯ç”¨é›†ç¾¤å¯é€‰">é…ç½® Byconity é«˜å¯ç”¨é›†ç¾¤ï¼ˆå¯é€‰ï¼‰<a href="#é…ç½®-byconity-é«˜å¯ç”¨é›†ç¾¤å¯é€‰" class="hash-link" aria-label="é…ç½® Byconity é«˜å¯ç”¨é›†ç¾¤ï¼ˆå¯é€‰ï¼‰çš„ç›´æ¥é“¾æ¥" title="é…ç½® Byconity é«˜å¯ç”¨é›†ç¾¤ï¼ˆå¯é€‰ï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>é«˜å¯ç”¨çš„ ByConity é›†ç¾¤åŠŸèƒ½å¼€å¯éœ€è¦æ‰“å¼€æ‰€æœ‰ç»„ä»¶çš„ zookeeper é…ç½®ï¼Œå‚è€ƒ<a href="https://github.com/ByConity/byconity-deploy/blob/master/chart/byconity/files/server.yamlL96" target="_blank" rel="noopener noreferrer">server.yaml</a></p><p>æ‰“å¼€ zookeeper é…ç½®ï¼š</p><div class="language-yaml codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-yaml codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">partition_by</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> event_date</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">flush_interval_milliseconds</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">mark_cache_size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5368709120</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">zookeeper</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># enable zookeeper</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">cnch_config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /etc/byconity/cnch</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">config.yaml</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å®˜æ–¹æä¾›äº†é«˜å¯ç”¨çš„ helm é…ç½® yaml æ–‡ä»¶<a href="https://github.com/ByConity/byconity-deploy/blob/master/examples/k8s/value_HA_example.yaml" target="_blank" rel="noopener noreferrer">value_HA_example.yaml</a>ä¾›å‚è€ƒã€‚</p><p>ä½¿ç”¨ helm æ›´æ–°é›†ç¾¤ï¼š</p><div class="language-bash codeBlockContainer_Dtwu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_sgmo"><pre tabindex="0" class="prism-code language-bash codeBlock_zjcW thin-scrollbar"><code class="codeBlockLines_u4eB"><span class="token-line" style="color:#393A34"><span class="token plain">helm upgrade --install --create-namespace --namespace byconity -f ./your/custom/values.yaml byconity ./chart/byconity</span><br></span></code></pre><div class="buttonGroup_uzaf"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_MWsZ" aria-hidden="true"><svg class="copyButtonIcon_utg0" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YlgY" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_HAaO padding--none margin-left--sm"><li class="tag_Ut5_"><a class="tag_sQub tagRegular_dfhI" href="/zh-cn/docs/tags/docs">Docs</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ByConity/byconity.github.io/tree/main/i18n/zh-cn/docusaurus-plugin-content-docs/version-0.2.0/deployment/02-deploy-k8s.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_O9Og" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ç¼–è¾‘æ­¤é¡µ</a></div><div class="col lastUpdated_DEFe"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="æ–‡æ¡£åˆ†é¡µå¯¼èˆª"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh-cn/docs/deployment/deployment-requirements"><div class="pagination-nav__sublabel">ä¸Šä¸€é¡µ</div><div class="pagination-nav__label">éƒ¨ç½²è¦æ±‚</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh-cn/docs/deployment/package-deployment"><div class="pagination-nav__sublabel">ä¸‹ä¸€é¡µ</div><div class="pagination-nav__label">è½¯ä»¶åŒ…éƒ¨ç½²</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_Q7NC thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#æœ¬åœ°éƒ¨ç½²ä¸€ä¸ª-demo" class="table-of-contents__link toc-highlight">æœ¬åœ°éƒ¨ç½²ä¸€ä¸ª demo</a><ul><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#ä½¿ç”¨-kind-é…ç½®æœ¬åœ°-kubernetes-é›†ç¾¤" class="table-of-contents__link toc-highlight">ä½¿ç”¨ Kind é…ç½®æœ¬åœ° Kubernetes é›†ç¾¤</a></li><li><a href="#åˆå§‹åŒ–-byconity-æ¼”ç¤ºé›†ç¾¤" class="table-of-contents__link toc-highlight">åˆå§‹åŒ– Byconity æ¼”ç¤ºé›†ç¾¤</a></li><li><a href="#ä»-kubernetes-é›†ç¾¤ä¸­åˆ é™¤æˆ–åœæ­¢-byconity" class="table-of-contents__link toc-highlight">ä» Kubernetes é›†ç¾¤ä¸­åˆ é™¤æˆ–åœæ­¢ ByConity</a></li></ul></li><li><a href="#éƒ¨ç½²åœ¨æ‚¨è‡ªå»ºçš„-kubernetes-ä¸­" class="table-of-contents__link toc-highlight">éƒ¨ç½²åœ¨æ‚¨è‡ªå»ºçš„ Kubernetes ä¸­</a><ul><li><a href="#å¦‚ä½•éƒ¨ç½²æˆ–è´­ä¹°-kubernetes-é›†ç¾¤" class="table-of-contents__link toc-highlight">å¦‚ä½•éƒ¨ç½²æˆ–è´­ä¹° Kubernetes é›†ç¾¤ï¼Ÿ</a></li><li><a href="#å…ˆå†³æ¡ä»¶" class="table-of-contents__link toc-highlight">å…ˆå†³æ¡ä»¶</a></li><li><a href="#å‡†å¤‡æ‚¨çš„å­˜å‚¨" class="table-of-contents__link toc-highlight">å‡†å¤‡æ‚¨çš„å­˜å‚¨</a></li><li><a href="#å‡†å¤‡ä½ è‡ªå·±çš„-helm-å€¼æ–‡ä»¶" class="table-of-contents__link toc-highlight">å‡†å¤‡ä½ è‡ªå·±çš„ helm å€¼æ–‡ä»¶</a></li><li><a href="#åˆå§‹åŒ–-byconity-é›†ç¾¤" class="table-of-contents__link toc-highlight">åˆå§‹åŒ– Byconity é›†ç¾¤</a></li></ul></li><li><a href="#æµ‹è¯•" class="table-of-contents__link toc-highlight">æµ‹è¯•</a><ul><li><a href="#è¿è¡Œä¸€äº›-sql-æ¥æµ‹è¯•" class="table-of-contents__link toc-highlight">è¿è¡Œä¸€äº› SQL æ¥æµ‹è¯•</a></li></ul></li><li><a href="#æ›´æ–°æ‚¨çš„-byconity-é›†ç¾¤" class="table-of-contents__link toc-highlight">æ›´æ–°æ‚¨çš„ Byconity é›†ç¾¤</a><ul><li><a href="#æ·»åŠ æ–°çš„è™šæ‹Ÿæ•°æ®ä»“åº“" class="table-of-contents__link toc-highlight">æ·»åŠ æ–°çš„è™šæ‹Ÿæ•°æ®ä»“åº“</a></li><li><a href="#åœ¨åŸæœ‰çš„-virtualwarehouse-æ‰©ç¼©å®¹" class="table-of-contents__link toc-highlight">åœ¨åŸæœ‰çš„ VirtualWareHouse æ‰©ç¼©å®¹</a></li></ul></li><li><a href="#é…ç½®-byconity-é«˜å¯ç”¨é›†ç¾¤å¯é€‰" class="table-of-contents__link toc-highlight">é…ç½® Byconity é«˜å¯ç”¨é›†ç¾¤ï¼ˆå¯é€‰ï¼‰</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row"><div class="col col--3"><img src="/zh-cn/img/footer-logo.svg" alt="ByConity" class="themedImage_DeRy themedImage--light_hbln footer__logo"><img src="/zh-cn/img/footer-logo.svg" alt="ByConity" class="themedImage_DeRy themedImage--dark_qgR1 footer__logo"></div><div class="col"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">æ–‡æ¡£</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh-cn/docs/introduction/main-principle-concepts">æ–‡æ¡£</a></li></ul></div><div class="col footer__col"><div class="footer__title">ç¤¾åŒº</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh-cn/community">Community</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-cn/users">ç”¨æˆ·</a></li><li class="footer__item"><a href="https://space.bilibili.com/2065226922?spm_id_from=333.1007.0.0" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bç«™<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_LBPb"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">æ›´å¤š</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh-cn/blog">åšå®¢</a></li><li class="footer__item"><a href="https://github.com/ByConity/ByConity" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_LBPb"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 ByteDance.</div></div></div></footer></div>
<script src="/zh-cn/assets/js/runtime~main.1d1e7260.js"></script>
<script src="/zh-cn/assets/js/main.add246ce.js"></script>
</body>
</html>