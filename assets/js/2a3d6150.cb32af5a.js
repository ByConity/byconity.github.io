"use strict";(self.webpackChunkbyconity=self.webpackChunkbyconity||[]).push([[5855],{9613:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var o=n(9496);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=o.createContext({}),c=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},d=function(e){var t=c(e.components);return o.createElement(l.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=c(n),m=i,h=u["".concat(l,".").concat(m)]||u[m]||p[m]||r;return n?o.createElement(h,a(a({ref:t},d),{},{components:n})):o.createElement(h,a({ref:t},d))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,a=new Array(r);a[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:i,a[1]=s;for(var c=2;c<r;c++)a[c]=n[c];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},8115:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var o=n(4778),i=(n(9496),n(9613));const r={title:"Development Environment",sidebar_position:2,tags:["Docs"]},a="ByConity Development Environment Setup",s={unversionedId:"developer-guides/set-up-byconity-dev-env",id:"developer-guides/set-up-byconity-dev-env",title:"Development Environment",description:"Our developers connect to a Debian 11 development environment running on a virtual machine using a plugin called Dev Container in VS Code. Therefore, we also recommend that you use the same approach for development to avoid many dependency and compatibility issues. For more information, refer to the official dev set.",source:"@site/docs/developer-guides/set-up-byconity-dev-env.mdx",sourceDirName:"developer-guides",slug:"/developer-guides/set-up-byconity-dev-env",permalink:"/docs/developer-guides/set-up-byconity-dev-env",draft:!1,editUrl:"https://github.com/ByConity/byconity.github.io/tree/main/docs/developer-guides/set-up-byconity-dev-env.mdx",tags:[{label:"Docs",permalink:"/docs/tags/docs"}],version:"current",sidebarPosition:2,frontMatter:{title:"Development Environment",sidebar_position:2,tags:["Docs"]},sidebar:"tutorialSidebar",previous:{title:"How to Build",permalink:"/docs/developer-guides/how-to-build-byconity"},next:{title:"FAQ",permalink:"/docs/faq/all-in-one"}},l={},c=[{value:"Starting the dev-env Image",id:"starting-the-dev-env-image",level:2},{value:"Associating Header Files",id:"associating-header-files",level:2},{value:"Compiling ByConity",id:"compiling-byconity",level:2},{value:"Configuring VS Code",id:"configuring-vs-code",level:2}],d={toc:c},u="wrapper";function p(e){let{components:t,...r}=e;return(0,i.kt)(u,(0,o.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"byconity-development-environment-setup"},"ByConity Development Environment Setup"),(0,i.kt)("p",null,"Our developers connect to a Debian 11 development environment running on a virtual machine using a plugin called Dev Container in VS Code. Therefore, we also recommend that you use the same approach for development to avoid many dependency and compatibility issues. For more information, refer to the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/ByConity/ByConity/blob/master/docker/debian/dev-env/README.md"},"official dev set"),"."),(0,i.kt)("h2",{id:"starting-the-dev-env-image"},"Starting the dev-env Image"),(0,i.kt)("p",null,"Firstly,"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"git clone https://github.com/ByConity/ByConity.git\n\n# Make sure to navigate to this directory\ncd byconity/docker/debian/dev-env\n\n# Pull the latest image\nmake pull\n\n# Start the container\nmake run\n")),(0,i.kt)("h2",{id:"associating-header-files"},"Associating Header Files"),(0,i.kt)("p",null,"After entering the container, compile the Byconity source code first. The purpose of this is to allow VS Code to correctly recognize and associate the header files. This avoids subsequent errors in VS Code where many header files cannot be found during debugging. Here are the specific commands:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# The submodules are not included in the image, so they need to be manually downloaded to your computer. Ensure a smooth network connection and wait patiently. This command is executed in the root directory of the container, which is the directory you are in when you first enter, no need to switch directories.\ngit submodule update --init --recursive\n\n# Generate the intermediate files required for compilation\ncmake -S /root/ByConity -B build_dev\n\n# The number 2 at the end means using 2 parallel tasks for compilation, which needs to be adjusted based on your machine resources. It is recommended to use memory size divided by 4, e.g., for 8GB memory, use 2 parallel tasks for compilation.\nninja -C build_dev clickhouse-server -j 2\n")),(0,i.kt)("h2",{id:"compiling-byconity"},"Compiling ByConity"),(0,i.kt)("p",null,"Execute the directory where cmake runs, and the compiled files will be in ",(0,i.kt)("inlineCode",{parentName:"p"},"${BYCONITY_SOURCE}/build_dev/program"),"\n",(0,i.kt)("img",{alt:"the directory where cmake runs",src:n(5226).Z,width:"2084",height:"522"})),(0,i.kt)("h2",{id:"configuring-vs-code"},"Configuring VS Code"),(0,i.kt)("p",null,"After compiling and building, you can start configuring the VS Code environment. Here are the specific steps:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Install the Dev Container extension")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Install dev container",src:n(8438).Z,width:"1872",height:"731"})),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"Connect to the Docker container")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Docker container connection",src:n(2781).Z,width:"1342",height:"808"})),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},"Resolve header file issues")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Even if there are no errors during the compilation process above, VS Code may still show red squiggly lines indicating that it cannot find the header files. Don't worry, it just needs some time to recognize the header files.")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Header file cannot be found problems",src:n(791).Z,width:"2124",height:"1190"})),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},"Complete the environment setup\n",(0,i.kt)("img",{alt:"fixed problems with header files not being found",src:n(3058).Z,width:"2070",height:"1258"}))))}p.isMDXComponent=!0},791:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/Header file cannot be found problems-0118f6dc38a982c6915efe7877fe0eb1.jpg"},8438:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/Install dev container-0557a8a1cf6908b29a6f7b9b6c197785.jpg"},2781:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/Open the development container in vscode-8346e00e14c59c023816a1fe650cdb72.jpg"},3058:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/fixed problems with header files not being found-492100f49f1a516c7b397a39a55fe2a2.jpg"},5226:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/the directory where cmake runs-bd18dad5e7b0aeb243feae55ae9964b5.jpg"}}]);