"use strict";(self.webpackChunkbyconity=self.webpackChunkbyconity||[]).push([[1885],{9613:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var r=n(9496);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},y=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=c(n),y=a,m=d["".concat(l,".").concat(y)]||d[y]||u[y]||o;return n?r.createElement(m,i(i({ref:t},p),{},{components:n})):r.createElement(m,i({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=y;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:a,i[1]=s;for(var c=2;c<o;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}y.displayName="MDXCreateElement"},5185:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var r=n(4778),a=(n(9496),n(9613));const o={title:"Basic Database Operations",sidebar_position:2,tags:["Docs"]},i=void 0,s={unversionedId:"quick-start/basic-database-operations",id:"version-0.2.0/quick-start/basic-database-operations",title:"Basic Database Operations",description:"There are a few ways to get started with ByConity. You have the choice to deploy ByConity through package deployment, using docker wrapper or deploy ByConity in Kubernetes. To get started quickly, we recommend that you use the ByConity Playground with docker-compose/the docker wrapper.",source:"@site/versioned_docs/version-0.2.0/quick-start/basic-database-operations.mdx",sourceDirName:"quick-start",slug:"/quick-start/basic-database-operations",permalink:"/docs/0.2.0/quick-start/basic-database-operations",draft:!1,editUrl:"https://github.com/ByConity/byconity.github.io/tree/main/versioned_docs/version-0.2.0/quick-start/basic-database-operations.mdx",tags:[{label:"Docs",permalink:"/docs/0.2.0/tags/docs"}],version:"0.2.0",sidebarPosition:2,frontMatter:{title:"Basic Database Operations",sidebar_position:2,tags:["Docs"]},sidebar:"tutorialSidebar",previous:{title:"Recommended Use Cases",permalink:"/docs/0.2.0/introduction/recommended-use-case"},next:{title:"Deploy ByConity in Kubernetes",permalink:"/docs/0.2.0/quick-start/deploy-byconity-with-k8s"}},l={},c=[{value:"Connect to the database",id:"connect-to-the-database",level:2},{value:"Create database and table",id:"create-database-and-table",level:2},{value:"Insert and query",id:"insert-and-query",level:2},{value:"Insert file",id:"insert-file",level:2}],p={toc:c},d="wrapper";function u(e){let{components:t,...n}=e;return(0,a.kt)(d,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"There are a few ways to get started with ByConity. You have the choice to deploy ByConity through ",(0,a.kt)("a",{parentName:"p",href:"../deployment/package-deployment"},"package deployment"),", using ",(0,a.kt)("a",{parentName:"p",href:"../deployment/docker-wrapper"},"docker wrapper")," or ",(0,a.kt)("a",{parentName:"p",href:"../deployment/deploy-k8s"},"deploy ByConity in Kubernetes"),". To get started quickly, we recommend that you use the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/ByConity/byconity-docker"},"ByConity Playground")," with docker-compose/the docker wrapper."),(0,a.kt)("p",null,"The playground only requires a few dependencies:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Colima (Docker runtime)"),(0,a.kt)("li",{parentName:"ul"},"Docker"),(0,a.kt)("li",{parentName:"ul"},"Docker Compose")),(0,a.kt)("p",null,"After you've downloaded all of the dependencies, get your cluster up and running, follow the tutorial below, and give ByConity a quick spin!"),(0,a.kt)("h1",{id:"getting-started-tutorial"},"Getting Started Tutorial"),(0,a.kt)("h2",{id:"connect-to-the-database"},"Connect to the database"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"./clickhouse-client -m -h HOST --port PORT\n\n")),(0,a.kt)("h2",{id:"create-database-and-table"},"Create database and table"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"CREATE DATABASE IF NOT EXISTS helloworld;\n\nCREATE TABLE helloworld.my_first_table\n(\n    user_id UInt32,\n    message String,\n    timestamp DateTime\n)\nENGINE = CnchMergeTree()\nPARTITION BY timestamp\nORDER BY (user_id, timestamp);\n\n")),(0,a.kt)("h2",{id:"insert-and-query"},"Insert and query"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"INSERT INTO helloworld.my_first_table (user_id, message, timestamp) VALUES\n    (101, 'Hello, ByConity!',                                 now()),\n    (102, 'Insert a lot of rows per batch',                     yesterday()),\n    (102, 'Sort your data based on your commonly-used queries', today()),\n    (101, 'Granules are the smallest chunks of data read',      now() + 5);\n\nSELECT * FROM helloworld.my_first_table;\n\nSELECT * FROM helloworld.my_first_table ORDER BY timestamp;\n\nSELECT *\u3000FROM helloworld.my_first_table\u3000ORDER BY timestamp\u3000FORMAT JSON;\n\nexit;\n\n")),(0,a.kt)("h2",{id:"insert-file"},"Insert file"),(0,a.kt)("p",null,"Suppose we have a file data.csv"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"102,This is data in a file,2022-02-22 10:43:28\n101,It is comma-separated,2022-02-23 00:00:00\n103,Use FORMAT to specify the format,2022-02-21 10:43:30\n\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"./clickhouse-client -h {HOST} --port {PORT} --query='INSERT INTO helloworld.my_first_table FORMAT CSV' < data.csv\n\n./clickhouse-client -h {HOST} --port {PORT} --query='SELECT * FROM helloworld.my_first_table'\n\n")),(0,a.kt)("h1",{id:"view-vw-status"},"view VW status"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"SELECT * FROM system.worker_groups\n\nQuery id: f60481b4-b9a7-494d-a639-ac7be3aa5292\n\nRow 1:\n\u2500\u2500\u2500\u2500\u2500\u2500\nid:             wg_default\ntype:           Physical\nvw_uuid:        1a415df1-6265-40b3-9c00-230fc3b026c1\nvw_name:        vw_default\nlinked_id:\nactive_workers: 1\nmin_cpu_usage:  9\nmax_cpu_usage:  9\navg_cpu_usage:  9\nmin_mem_usage:  8\nmax_mem_usage:  8\navg_mem_usage:  8\nis_auto_linked: 0\n\nSELECT *\nFROM system.workers\n\nQuery id: f2377b52-38eb-4437-9813-d34f9dd28049\n\nRow 1:\n\u2500\u2500\u2500\u2500\u2500\u2500\nworker_id:             w1\nhost:                  {HOST}\ntcp_port:              {TCP_PORT}\nrpc_port:              {RPC_PORT}\nhttp_port:             {HTTP_PORT}\nexchange_port:         {EXCHANGE_PORT}\nexchange_status_port:  {EXCHANGE_STATUS_PORT}\nvw_name:               vw_default\nworker_group_id:       wg_default\nquery_num:             0\ncpu_usage:             {xxx}\nreserved_cpu_cores:    0\nmemory_usage:          {xxx}\ndisk_space:            {xxx}\nmemory_available:      {xxx}\nreserved_memory_bytes: 0\nregister_time:         2022-11-30 18:19:49\nlast_update_time:      2022-11-30 18:21:09\nstate:                 1\n\n")),(0,a.kt)("h1",{id:"view-history-query"},"view history query"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://clickhouse.com/docs/en/operations/system-tables/query_log/"},"https://clickhouse.com/docs/en/operations/system-tables/query_log/")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"SELECT * FROM system.query_log;\n\n")),(0,a.kt)("h1",{id:""}))}u.isMDXComponent=!0}}]);